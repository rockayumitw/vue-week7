{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/Dashboard/Products.vue","webpack:///./src/components/modal/ProductModal.vue","webpack:///./src/components/modal/ProductModal.vue?d348","webpack:///./src/views/Dashboard/Products.vue?beba"],"names":["totalPage","page","index","class","currentPage","key","href","goTop","$emit","props","methods","console","log","animate","scrollTop","offset","top","render","msg","$refs","productModal","modal","productLists","product","category","title","imageUrl","width","src","alt","origin_price","$filters","currency","price","is_enabled","type","getProduct","data-bs-toggle","data-bs-target","length","current-page","pagination","current_page","total-page","total_pages","changePage","item","tempProduct","delProduct","cancel","ref","changeProducts","id","tabindex","aria-labelledby","aria-hidden","novalidate","for","data-bs-dismiss","undefined","placeholder","image","name","uploadImage","accept","hidden","disabled","spinner","required","unit","min","description","content","true-value","false-value","updateProduct","prodcutModal","watch","this","JSON","parse","stringify","computed","keyboard","backdrop","addEventListener","init","due_date","forms","document","querySelector","classList","remove","state","show","hide","check","querySelectorAll","Array","prototype","slice","call","forEach","form","event","checkValidity","preventDefault","stopPropagation","add","setTimeout","e","click","vm","target","files","file","fr","FileReader","onload","result","readAsDataURL","formData","FormData","append","$store","commit","axios","post","then","res","data","success","$swal","fire","position","icon","showConfirmButton","timer","text","message","catch","err","response","components","Pagination","DelModal","ProductModal","InnerBanner","dispatch"],"mappings":"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","file":"js/chunk-7e6c62dc.bc8f5737.js","sourcesContent":["<template>\n    <li\n      class=\"page-item\"\n      :class=\"page == currentPage ? 'active' : ''\"\n      v-for=\"(page, index) in totalPage\"\n      :key=\"index\"\n    >\n      <a class=\"page-link\" href=\"#\"\n      @click.prevent=\"goTop(), $emit('changePage', page)\">{{ page }}</a>\n    </li>\n</template>\n\n<script>\nimport $ from 'jquery';\n\nexport default {\n  props: ['currentPage', 'totalPage'],\n  data() {\n    return {};\n  },\n  methods: {\n    goTop() {\n      console.log('in0');\n      $('html, body').animate({ scrollTop: $('.container').offset().top - 0 }, 'fast');\n    },\n  },\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=07d7e606\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n<InnerBanner :msg=\"msg\" />\n<div class=\"container\">\n    <div class=\"btn-area text-end mt-4\">\n      <button\n        class=\"btn btn-secondary font-weight-bold float-end mb-5 text-white\"\n        @click=\"$refs.productModal.modal('show')\"\n      >\n        新增產品\n      </button>\n    </div>\n\n    <div class=\"table\">\n      <div class=\"table-thead row text-white w-100 py-3 align-items-center gx-1\">\n        <div class=\"col-2\">類別</div>\n        <div class=\"col-4 col-md-2\">產品名稱</div>\n        <div class=\"col-2 d-none d-md-block\">產品圖片</div>\n        <div class=\"col-2 text-right\">價格</div>\n        <div class=\"col-2 text-center\">狀態</div>\n        <div class=\"col-2 text-center\">功能</div>\n      </div>\n      <div class=\"table-tr row text-white w-100 align-items-center py-3 align-items-center gx-1\"\n      v-for=\"(product, key) in productLists\" :key=\"key\">\n\n        <div class=\"col-2\">{{ product.category}}</div>\n        <div class=\"col-4 col-md-2\">\n          <span class=\"d-block\">{{ product.title }}</span>\n          <img class=\"d-block d-md-none\"\n            v-if=\"product.imageUrl != ''\"\n            width=\"80\"\n            :src=\"product.imageUrl\"\n            alt=\"\"\n          />\n        </div>\n        <div class=\"col-2 d-none d-md-block\">\n          <img\n            v-if=\"product.imageUrl != ''\"\n            width=\"150\"\n            :src=\"product.imageUrl\"\n            alt=\"\"\n          />\n        </div>\n        <div class=\"col-2 text-right\">\n          <del class=\"text-1 text-gray-200 p-0 d-block\" v-if=\"product.origin_price\">\n            {{ $filters.currency(product.origin_price) }}\n          </del>\n          <span class=\"p-0\">{{ $filters.currency(product.price) }}</span>\n        </div>\n        <div class=\"col-2 text-center\">\n          <span class=\"material-icons text-success\" v-if=\"product.is_enabled\">toggle_on</span>\n          <span class=\"material-icons\" v-else>toggle_off</span>\n        </div>\n        <div class=\"col-2 text-center\">\n          <div class=\"btn-group p-0 p-md-1\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-outline-primary\"\n                  @click=\"getProduct(product), $refs.productModal.modal('show')\"\n                >\n                  <span class=\"material-icons text-3\">edit</span>\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm btn-outline-danger\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#delModal\"\n                  @click=\"getProduct(product)\"\n                >\n                  <span class=\"material-icons text-3\">delete</span>\n                </button>\n              </div>\n        </div>\n      </div>\n    </div>\n\n    <ul class=\"pagination justify-content-center\">\n        <Pagination\n          :current-page=\"pagination.current_page\"\n          :total-page=\"pagination.total_pages\"\n          @change-page=\"changePage\"\n          v-if=\"productLists.length > 1\"\n        ></Pagination>\n      </ul>\n\n  <DelModal :item=\"tempProduct\" @del-item=\"delProduct\" @cancel=\"cancel\"/>\n  <ProductModal ref=\"productModal\" @change-products=\"changeProducts\" :product=\"tempProduct\"/>\n</div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport { mapGetters } from 'vuex';\nimport DelModal from '@/components/modal/DelModal.vue';\nimport ProductModal from '@/components/modal/ProductModal.vue';\nimport InnerBanner from '@/components/InnerBanner.vue';\n\nexport default {\n  props: ['token'],\n  components: {\n    Pagination,\n    DelModal,\n    ProductModal,\n    InnerBanner,\n  },\n  computed: {\n    ...mapGetters({\n      product: 'backend/product',\n      pagination: 'backend/pagination',\n      productLists: 'backend/productLists',\n    }),\n  },\n  watch: {\n    product() {\n      this.tempProduct = JSON.parse(JSON.stringify(this.product));\n    },\n  },\n  data() {\n    return {\n      msg: '產品管理',\n      tempProduct: {},\n      image: '',\n    };\n  },\n  async created() {\n    await this.$store.dispatch('backend/fetchgetProductLists', 1);\n  },\n  mounted() {\n  },\n  methods: {\n    async getProduct(product) {\n      await this.$store.commit('backend/SAVE_PRODUCT', product);\n    },\n    async delProduct(id) {\n      this.$store.dispatch('backend/fetchRemoveProduct', id);\n    },\n    async changeProducts(product) {\n      console.log(product);\n      await this.$store.dispatch('backend/fetchChangeProduct', product);\n    },\n    async changePage(page) {\n      await this.$store.dispatch('backend/fetchgetProductLists', page);\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    id=\"productModal\"\n    ref=\"productModal\"\n    class=\"modal fade\"\n    tabindex=\"-1\"\n    aria-labelledby=\"productModalLabel\"\n    aria-hidden=\"true\"\n    data-bs-target=\"#productModal\"\n  >\n    <div class=\"modal-dialog modal-xl modal-dialog-centered\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header\">\n          <h5 id=\"productModalLabel\" class=\"modal-title text-black font-weight-bold\">\n            <span v-if=\"tempProduct.id == undefined\">新增產品</span>\n            <span v-else>編輯產品</span>\n          </h5>\n        </div>\n        <div class=\"modal-body\">\n          <form class=\"row needs-validation\" novalidate>\n            <div class=\"col-sm-12 col-lg-4\">\n              <div class=\"mb-1\">\n                <div class=\"form-group\">\n                  <label for=\"imageUrl\">\n                    輸入圖片網址\n                  </label>\n                  <input\n                    id=\"imageUrl\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入圖片連結\"\n                    v-model=\"tempProduct.imageUrl\"\n                  />\n                </div>\n                <img class=\"img-fluid\" :src=\"image\" alt=\"\" />\n              </div>\n              <div>\n                <input\n                  type=\"file\"\n                  ref=\"uploadImage\"\n                  class=\"form-control js-uploadImage\"\n                  name=\"file-to-upload\"\n                  id=\"file\"\n                  placeholder=\"請輸入圖片連結\"\n                  @change=\"uploadImage\"\n                  accept=\"image/*\"\n                  hidden\n                />\n                <button\n                  class=\"btn btn-outline-secondary btn-sm d-block w-100\"\n                  :disabled=\"spinner\"\n                  @click=\"uploadImage\"\n                >\n                <i class=\"fas fa-spinner fa-pulse\" v-if=\"spinner\"></i>\n                  新增圖片\n                </button>\n              </div>\n              <div>\n                <button\n                  class=\"btn btn-outline-danger btn-sm d-block w-100\"\n                  @click=\"$emit('removeImage')\"\n                >\n                  刪除圖片\n                </button>\n              </div>\n            </div>\n            <div class=\"col-sm-12 col-lg-8\">\n              <div class=\"form-group\">\n                <label for=\"title\">\n                  <small class=\"text-danger\">*</small>\n                  標題\n                </label>\n                <input\n                  id=\"title\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入標題\"\n                  v-model=\"tempProduct.title\"\n                  required\n                />\n              </div>\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"category\">\n                    <small class=\"text-danger\">*</small>\n                    分類\n                  </label>\n                  <input\n                    id=\"category\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入分類\"\n                    v-model=\"tempProduct.category\"\n                    required\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"unit\">\n                    <small class=\"text-danger\">*</small>\n                    單位\n                  </label>\n                  <input\n                    id=\"unit\"\n                    type=\"text\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入單位\"\n                    v-model=\"tempProduct.unit\"\n                    required\n                  />\n                </div>\n              </div>\n\n              <div class=\"row\">\n                <div class=\"form-group col-md-6\">\n                  <label for=\"origin_price\">\n                    <small class=\"text-danger\">*</small>\n                    原價\n                  </label>\n                  <input\n                    id=\"origin_price\"\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入原價\"\n                    v-model.number=\"tempProduct.origin_price\"\n                    required\n                  />\n                </div>\n                <div class=\"form-group col-md-6\">\n                  <label for=\"price\">\n                    <small class=\"text-danger\">*</small>\n                    售價\n                  </label>\n                  <input\n                    id=\"price\"\n                    type=\"number\"\n                    min=\"0\"\n                    class=\"form-control\"\n                    placeholder=\"請輸入售價\"\n                    v-model.number=\"tempProduct.price\"\n                    required\n                  />\n                </div>\n              </div>\n              <hr />\n              <div class=\"form-group\">\n                <label for=\"description\">產品描述</label>\n                <textarea\n                  id=\"description\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入產品描述\"\n                  v-model=\"tempProduct.description\"\n                >\n                </textarea>\n              </div>\n              <div class=\"form-group\">\n                <label for=\"content\">說明內容</label>\n                <textarea\n                  id=\"content\"\n                  type=\"text\"\n                  class=\"form-control\"\n                  placeholder=\"請輸入說明內容\"\n                  v-model=\"tempProduct.content\"\n                >\n                </textarea>\n              </div>\n              <div class=\"form-group\">\n                <div class=\"form-check\">\n                  <input\n                    id=\"is_enabled\"\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    v-model=\"tempProduct.is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\">是否啟用</label>\n                </div>\n              </div>\n            </div>\n            <div class=\"d-flex justify-content-end\">\n              <button\n              type=\"button\"\n              class=\"btn btn-gray-100 text-white mr-1\"\n              data-bs-dismiss=\"modal\"\n            >\n              取消\n            </button>\n            <button type=\"submit\" class=\"btn btn-secondary text-white\"\n            @click=\"updateProduct\">\n              確認\n            </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  props: ['product'],\n  data() {\n    return {\n      tempProduct: {},\n      image: '',\n      prodcutModal: '',\n    };\n  },\n  watch: {\n    product() {\n      this.tempProduct = JSON.parse(JSON.stringify(this.product));\n      this.image = this.product.imageUrl;\n    },\n  },\n  computed: {\n    ...mapGetters({\n      spinner: 'all/spinner',\n    }),\n  },\n  mounted() {\n    this.productModal = new Modal(this.$refs.productModal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n    this.$refs.productModal.addEventListener('hidden.bs.modal', () => {\n      this.init();\n    });\n  },\n  methods: {\n    init() {\n      this.tempProduct = {};\n      this.image = '';\n      this.due_date = 0;\n      const forms = document.querySelector('.needs-validation');\n      forms.classList.remove('was-validated');\n    },\n    modal(state) {\n      switch (state) {\n        case 'show':\n          this.productModal.show();\n          break;\n        case 'hide':\n          this.productModal.hide();\n          break;\n        default:\n      }\n    },\n    updateProduct() {\n      // 判斷輸入\n      console.log('判斷');\n      let check = false; // 未通過\n      const forms = document.querySelectorAll('.needs-validation');\n      Array.prototype.slice.call(forms).forEach((form) => {\n        form.addEventListener('submit', (event) => {\n          console.log(form.checkValidity());\n          if (!form.checkValidity()) {\n            event.preventDefault();\n            event.stopPropagation();\n            check = false;\n          } else {\n            check = true;\n          }\n          form.classList.add('was-validated');\n        }, false);\n      });\n      // 非同步\n      setTimeout(() => {\n        if (check) {\n          this.$emit('changeProducts', this.tempProduct);\n          this.modal('hide');\n          this.init();\n        }\n      });\n    },\n    async uploadImage(e) {\n      this.$refs.uploadImage.click();\n      this.tempProduct.imageUrl = [];\n      this.image = '';\n      const vm = this;\n      if (e.target.files === undefined) {\n        return;\n      }\n      const file = e.target.files[0]; // 讀取圖片\n      const fr = new FileReader();\n      // eslint-disable-next-line no-shadow\n      fr.onload = function (e) {\n        vm.image = e.target.result;\n      };\n      fr.readAsDataURL(file);\n\n      // 上傳圖片\n      const formData = new FormData();\n      formData.append('file-to-upload', file);\n      this.$store.commit('all/SAVE_SPINNER', true);\n      // 圖片api上傳\n      await this.axios.post('https://vue3-course-api.hexschool.io/api/traveltime1221/admin/upload', formData).then((res) => {\n        this.$store.commit('all/SAVE_SPINNER', false);\n        if (!res.data.success) {\n          this.$swal.fire({\n            icon: 'error',\n            title: 'Oops...',\n            text: res.data.message,\n          });\n        } else {\n          this.tempProduct.imageUrl = res.data.imageUrl;\n          this.$swal.fire({\n            position: 'top-end',\n            icon: 'success',\n            title: '上傳成功',\n            showConfirmButton: false,\n            timer: 1500,\n          });\n        }\n      }).catch((err) => {\n        console.log(err.response);\n        this.$store.commit('all/SAVE_SPINNER', false);\n        this.$swal.fire({\n          icon: 'error',\n          title: 'Oops...',\n          text: err.data.message,\n        });\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=6dde507f\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Products.vue?vue&type=template&id=1e7f544f\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}