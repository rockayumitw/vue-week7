{"version":3,"sources":["webpack:///./src/views/Dashboard.vue","webpack:///./src/components/backend/Header.vue","webpack:///./src/components/backend/Header.vue?7c51","webpack:///./src/views/Dashboard.vue?8dc4","webpack:///./src/components/Footer.vue","webpack:///./src/components/Footer.vue?c832"],"names":["class","active","loading","loader","can-cancel","authCheck","type","data-bs-toggle","data-bs-target","aria-controls","aria-expanded","aria-label","id","ref","scrolled","isActive","to","aria-current","href","signOut","stickyPos","limitPos","lastPos","sm_width","qty","computed","cartLists","cartAmount","spinner","this","$store","dispatch","window","addEventListener","scrollAnimation","methods","scrollY","commit","ScrollAnimation","render","components","Header","Footer","Loading","checkLogin","token","document","cookie","replace","axios","defaults","headers","common","Authorization","api","post","then","res","data","success","console","log","alert","message","$router","push"],"mappings":"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","file":"js/chunk-4a42f6f4.354cb8a8.js","sourcesContent":["<template>\n  <Header />\n  <loading v-model:active=\"loading\" loader=\"dots\"\n    :can-cancel=\"true\"></loading>\n  <div class=\"inner-page\">\n    <router-view v-if=\"authCheck\"></router-view>\n  </div>\n  <Footer />\n</template>\n\n<script>\nimport Header from '@/components/backend/Header.vue';\nimport Footer from '@/components/Footer.vue';\nimport Loading from 'vue-loading-overlay';\nimport { mapGetters } from 'vuex';\n\nexport default {\n  components: {\n    Header,\n    Footer,\n    Loading,\n  },\n  computed: {\n    ...mapGetters({\n      loading: 'all/loading',\n    }),\n  },\n  data() {\n    return {\n      authCheck: false,\n    };\n  },\n  created() {\n    this.checkLogin();\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        this.axios.defaults.headers.common.Authorization = `${token}`;\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.axios.post(api, token).then((res) => {\n          if (res.data.success) {\n            console.log('您已成功登入');\n            this.authCheck = true;\n            console.log(this.authCheck);\n          } else {\n            alert(res.data.message);\n            this.$router.push('/login');\n          }\n        });\n      } else {\n        alert('您尚未登入。');\n        this.$router.push('/login');\n      }\n    },\n    signOut() {\n      document.cookie = 'token=;expires=;';\n      console.log('token 已清除');\n      console.log('已經登出');\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n","<template>\n<nav ref=\"header\" class=\"header navbar navbar-expand-lg navbar-light pt-0 pt-lg-1 pb-0 index-header\"\n:class=\"{'unpinned': scrolled,'sticky':isActive}\">\n  <div class=\"container d-flex d-lg-block p-0\">\n    <div class=\"navbar-content d-flex justify-content-between align-items-center\">\n      <div class=\"d-none d-lg-flex align-items-end\">\n        <span class=\"material-icons-outlined\">facebook</span>\n      </div>\n      <div class=\"logo\">\n        <router-link class=\"navbar-brand mr-0 position-relative\n        position-lg-absolute top-lg-20 text-5 text-white font-weight-bold\"\n        to=\"/home\">LOGO</router-link>\n      </div>\n      <div class=\"navbar-tool\">\n        <div class=\"text-right\">\n          <span class=\"material-icons-outlined text-5 px-2\">public</span>\n        </div>\n        <div class=\"\">\n          <!-- <router-link to=\"/login\">\n            <span class=\"material-icons text-5 px-2 cursor-pointer\">person</span>\n          </router-link>\n            <span class=\"cart position-relative\" role=\"button\">\n              <span\n              class=\"unread-message position-absolute top-y-5 left-30\n              translate-middle badge rounded-pill bg-danger text-1\" v-if=\"cartAmount > 0\">\n                {{cartAmount}}\n                <span class=\"visually-hidden\">unread messages</span>\n              </span>\n            <router-link to=\"/cart\">\n              <span class=\"material-icons text-5 px-2\">\n                shopping_cart\n              </span>\n            </router-link>\n            <div class=\"cart-list bg-white rounded p-4 position-absolute\">\n              <div v-if=\"cartAmount > 0\">\n                <ul class=\"item-cart-list\">\n                  <li class=\"d-flex align-items-center mb-2 p-2 rounded\"\n                  v-for=\"item in cartLists.carts\" :key=\"item\">\n                    <div class=\"item-cart-pic rounded mr-4\"\n                    :style=\"{backgroundImage: 'url('+ item.product.imageUrl +')'}\"></div>\n                    <div>\n                      <div class=\"text-4\">{{item.product.title}}</div>\n                      <div class=\"text-4 text-secondary\">\n                        {{$filters.currency(item.product.price)}}\n                      </div>\n                      <div>\n                        <input\n                            v-model.number=\"item.qty\"\n                            min=\"1\"\n                            type=\"number\"\n                            class=\"form-control\"\n                            @blur=\"this.$store.dispatch('frontend/fetchAddToCart',\n                            {product_id: item.product.id,qty: item.qty})\"\n                            :disabled=\"spinner === item.product.id\"\n                          />\n                      </div>\n                    </div>\n                    <div>\n                      <span class=\"material-icons text-danger text-6\"\n                      role=\"button\" @click=\"delSingleProduct(item.id)\">\n                        delete_forever\n                      </span>\n                    </div>\n                  </li>\n                </ul>\n                <hr class=\"text-gray-100\"/>\n                <div class=\"d-flex justify-content-between mb-3\">\n                  <span class=\"text-secondary\">總額</span>\n                  <span class=\"text-secondary\">{{$filters.currency(cartLists.final_total)}}</span>\n                </div>\n                <div>\n                  <router-link to=\"/cart\" href=\"javascript:;\"\n                  class=\"btn btn-primary w-100 text-white\">\n                    結帳去\n                  </router-link>\n                </div>\n              </div>\n              <div class=\"text-center\" v-else>\n                <div class=\"p-5\">\n                  <p>您的購物車是空的</p>\n                  <router-link to=\"/products\" class=\"btn btn-primary text-white\">\n                    前往瀏覽商品\n                  </router-link>\n                </div>\n              </div>\n            </div>\n          </span>\n          <span class=\"material-icons-outlined text-5 px-2\" role=\"button\">bookmark</span> -->\n        </div>\n      </div>\n    </div>\n    <button class=\"navbar-toggler hamburger rounded-0\" type=\"button\" data-bs-toggle=\"collapse\"\n    data-bs-target=\"#navbarNav\" aria-controls=\"navbarNav\" aria-expanded=\"false\"\n    aria-label=\"Toggle navigation\">\n      <!-- <span class=\"navbar-toggler-icon\"></span> -->\n      <i></i>\n      <i></i>\n      <i></i>\n    </button>\n    <div class=\"collapse navbar-collapse justify-content-center\" id=\"navbarNav\">\n      <ul class=\"navbar-nav\">\n        <li class=\"nav-item text-center\">\n          <router-link class=\"nav-link active text-4\" aria-current=\"page\" to=\"/home\">\n            首頁\n          </router-link>\n        </li>\n        <li class=\"nav-item text-center\">\n          <router-link class=\"nav-link text-4\" to=\"/admin/products\">\n            產品管理\n          </router-link>\n        </li>\n        <li class=\"nav-item text-center\">\n          <router-link class=\"nav-link text-4\" to=\"/admin/orders\">\n            訂單管理\n          </router-link>\n        </li>\n        <li class=\"nav-item text-center\">\n          <router-link class=\"nav-link text-4\" to=\"/admin/coupons\">\n            優惠券管理\n          </router-link>\n        </li>\n        <li class=\"nav-item text-center\">\n          <router-link class=\"nav-link text-4\" to=\"/admin/news\">\n            文章管理\n          </router-link>\n        </li>\n        <li class=\"nav-item text-center\">\n          <a class=\"nav-link text-4\" href=\"/\" @click.prevent=\"signOut\">\n            登出\n          </a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</nav>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      stickyPos: 500,\n      limitPos: 1000,\n      scrolled: false,\n      lastPos: 0,\n      sm_width: 767,\n      isActive: false,\n      qty: 1,\n    };\n  },\n  computed: {\n    ...mapGetters({\n      loading: 'all/loading',\n      cartLists: 'frontend/cartLists',\n      cartAmount: 'frontend/cartAmount',\n      spinner: 'all/spinner',\n    }),\n  },\n  async created() {\n    await this.$store.dispatch('frontend/fetchGetCartLists');\n  },\n  mounted() {\n    window.addEventListener('scroll', this.scrollAnimation);\n  },\n  methods: {\n    scrollAnimation() {\n      this.scrollY = window.scrollY;\n      if (window.scrollY > 100) {\n        this.isActive = true;\n      } else {\n        this.isActive = false;\n      }\n    },\n    async delSingleProduct(id) {\n      await this.$store.commit('all/SAVE_SPINNER', id);\n      await this.$store.dispatch('frontend/fetchRemoveSingleProduct', id);\n    },\n  },\n  destory() {\n    window.addEventListener('scroll', this.ScrollAnimation);\n  },\n};\n</script>\n","import { render } from \"./Header.vue?vue&type=template&id=5b0df432\"\nimport script from \"./Header.vue?vue&type=script&lang=js\"\nexport * from \"./Header.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","import { render } from \"./Dashboard.vue?vue&type=template&id=0bb59646\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n    <div class=\"footer bg-gray-300 text-center\">\n        <div class=\"bg-gray-500 pt-12\">\n            <span class=\"material-icons-outlined text-white\">facebook</span>\n            <div class=\"text-white pt-6 text-2\">\n                營業時間：00:00 ~ 50:00 (全年無休)<br/>\n                地址：xx市xx區xx路111號\n            </div>\n        </div>\n        <div class=\"text-center bg-gray-500 d-flex justify-content-between text-1\">\n            <span>© OOXX 2020 All Rights Reserved.</span>\n            <span>ooxx科技股份有限公司版權所有</span>\n        </div>\n        <div class=\"text-center bg-secondary text-1 text-white\">\n            僅供學習使用，無商業用途\n        </div>\n    </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n    };\n  },\n};\n</script>\n","import { render } from \"./Footer.vue?vue&type=template&id=24117b0e\"\nimport script from \"./Footer.vue?vue&type=script&lang=js\"\nexport * from \"./Footer.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}