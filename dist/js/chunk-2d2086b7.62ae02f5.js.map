{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","type","active","loading","can-cancel","loader","login","id","placeholder","user","username","required","autofocus","password","components","Loading","computed","methods","this","$store","commit","api","axios","post","then","res","data","success","token","expired","document","cookie","Date","$router","push","alert","message","render"],"mappings":"0JACOA,MAAM,c,GACJA,MAAM,kB,GAGFA,MAAM,Y,EACT,yBAAgD,MAA5CA,MAAM,8BAA6B,QAAI,G,GACtCA,MAAM,Q,EACT,yBAA6D,SAAtDC,IAAI,aAAaD,MAAM,WAAU,iBAAa,G,GAIlDA,MAAM,Q,EACT,yBAA2D,SAApDC,IAAI,gBAAgBD,MAAM,WAAU,YAAQ,G,EAGrD,yBAEM,OAFDA,MAAM,iBAAe,CACxB,yBAA0E,UAAlEA,MAAM,mCAAmCE,KAAK,UAAS,Q,4GAhBzE,yBAqBM,MArBN,EAqBM,CApBJ,yBAmBM,MAnBN,EAmBM,CAlBJ,yBAA6E,GAA5DC,OAAQ,EAAAC,Q,iCAAA,EAAAA,QAAO,GAAGC,cAAY,EAAMC,OAAO,Q,mBAC5D,yBAgBO,QAhBDN,MAAM,6BAA8B,SAAM,+CAAU,EAAAO,OAAA,EAAAA,SAAA,GAAK,e,CAC7D,yBAcM,MAdN,EAcM,CAbJ,EACA,yBAIM,MAJN,EAIM,CAHJ,E,4BACA,yBAC6E,SADtEL,KAAK,QAAQM,GAAG,aAAaR,MAAM,eACpCS,YAAY,gB,qCAAyB,EAAAC,KAAKC,SAAQ,GAAEC,SAAA,GAASC,UAAA,I,4BAAxB,EAAAH,KAAKC,cAElD,yBAGqF,MAHrF,EAGqF,CAFnF,E,4BACA,yBAC6E,SADtET,KAAK,WAAWM,GAAG,gBAC1BR,MAAM,e,qCAAwB,EAAAU,KAAKI,SAAQ,GAAEL,YAAY,WAAWG,SAAA,I,4BAAtC,EAAAF,KAAKI,cACrC,K,6CAaK,GACb,OACE,MAAO,CACLJ,KAAM,CACJC,SAAU,GACVG,SAAU,MAIhBC,WAAY,CACVC,QAAA,KAEFC,SAAU,IACL,eAAW,CACZb,QAAS,iBAGbc,QAAS,CACP,cACEC,KAAKC,OAAOC,OAAO,oBAAoB,GACvC,MAAMC,EAAO,0DACPH,KAAKI,MAAMC,KAAKF,EAAKH,KAAKT,MAAMe,KAAMC,IAE1C,GADAP,KAAKC,OAAOC,OAAO,oBAAoB,GACnCK,EAAIC,KAAKC,QAAS,CACpB,MAAM,MAAEC,EAAF,QAASC,GAAYJ,EAAIC,KAC/BI,SAASC,OAAU,SAAQH,aAAiB,IAAII,KAAKH,MACrDX,KAAKe,QAAQC,KAAK,wBAElBC,MAAMV,EAAIC,KAAKU,cCtDzB,EAAOC,OAASA,EAED","file":"js/chunk-2d2086b7.62ae02f5.js","sourcesContent":["<template>\n  <div class=\"inner-page\">\n    <div class=\"container mt-5\">\n      <loading v-model:active=\"loading\" :can-cancel=\"true\" loader=\"dots\"></loading>\n      <form class=\"row justify-content-center\" @submit.prevent=\"login\">\n        <div class=\"col-md-6\">\n          <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\n          <div class=\"mb-2\">\n            <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n            <input type=\"email\" id=\"inputEmail\" class=\"form-control\"\n                  placeholder=\"Email address\" v-model=\"user.username\" required autofocus>\n          </div>\n          <div class=\"mb-2\">\n            <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n            <input type=\"password\" id=\"inputPassword\"\n            class=\"form-control\" v-model=\"user.password\" placeholder=\"Password\" required></div>\n          <div class=\"text-end mt-4\">\n            <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\n          </div>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport Loading from 'vue-loading-overlay';\n\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  components: {\n    Loading,\n  },\n  computed: {\n    ...mapGetters({\n      loading: 'all/loading',\n    }),\n  },\n  methods: {\n    async login() {\n      this.$store.commit('all/SAVE_LOADING', true);\n      const api = `${process.env.VUE_APP_API}/admin/signin`;\n      await this.axios.post(api, this.user).then((res) => {\n        this.$store.commit('all/SAVE_LOADING', false);\n        if (res.data.success) {\n          const { token, expired } = res.data;\n          document.cookie = `token=${token};expires=${new Date(expired)};`;\n          this.$router.push('/admin/products');\n        } else {\n          alert(res.data.message);\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=3128e6c1\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}