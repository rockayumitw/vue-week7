(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4793037c"],{1799:function(e,t,c){"use strict";var a=c("7a23");function o(e,t,c,o,r,d){return Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.totalPage,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:["page-item",e==c.currentPage?"active":""],key:t},[Object(a["createVNode"])("a",{class:"page-link",href:"javascript:;",onClick:t=>d.goTop(e)},Object(a["toDisplayString"])(e),9,["onClick"])],2))),128)}var r=c("1157"),d=c.n(r),l={props:["currentPage","totalPage"],data(){return{}},methods:{goTop(e){this.$emit("changePage",e),d()("html, body").animate({scrollTop:250},"fast")}}};l.render=o;t["a"]=l},"67e3":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o={class:"container"},r={class:"table-box"},d={class:"table"},l=Object(a["createStaticVNode"])('<div class="table-thead row text-white w-100 py-3 align-items-center gx-1"><div class="col-2 col-md-2 d-none d-md-block">購買時間</div><div class="col-5 col-md-3 text-left"> Email </div><div class="col-3 col-md-3 text-right d-none">購買款項</div><div class="col-3 col-md-2 text-center">應付金額</div><div class="col-2 col-md-2 text-center"> 是否付款 </div><div class="col-2 col-md-2 text-center">編輯</div></div>',1),n={class:"col-2 col-md-2 d-none d-md-block"},s={class:"col-5 col-md-3 text-left"},i={class:"d-inline d-md-none"},b=Object(a["createVNode"])("br",null,null,-1),O={class:"col-3 col-md-3 text-center d-none"},j={class:"list-unstyled"},p={class:"col-3 col-md-2 text-right"},m={class:"col-2 col-md-2 text-center d-flex justify-content-center align-items-center"},u={class:"form-check form-switch"},g={class:"col-2 col-md-2 text-center"},N={class:"btn-group p-0 p-md-1"},V=Object(a["createVNode"])("span",{class:"material-icons text-3"}," visibility ",-1),h=Object(a["createVNode"])("span",{class:"material-icons text-3"},"delete",-1),k={class:"pagination justify-content-center"};function y(e,t,c,y,v,f){const x=Object(a["resolveComponent"])("InnerBanner"),B=Object(a["resolveComponent"])("Pagination"),w=Object(a["resolveComponent"])("OrderModal"),C=Object(a["resolveComponent"])("DelModal");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(x,{msg:v.msg},null,8,["msg"]),Object(a["createVNode"])("div",o,[e.orderLists.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:0,class:"btn btn-secondary float-end mb-5 text-white",onClick:t[1]||(t[1]=t=>e.$store.dispatch("backend/fetchRemoveAllOrder"))}," 刪除全部訂單 ")):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",d,[l,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.orderLists,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])("div",{class:["table-tr row text-white w-100 align-items-center py-3 align-items-center gx-1",{"text-secondary":!t.is_paid}],key:c},[Object(a["createVNode"])("div",n,Object(a["toDisplayString"])(e.$filters.date(t.create_at)),1),Object(a["createVNode"])("div",s,[Object(a["createVNode"])("span",i,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.date(t.create_at)),1),b]),t.user?(Object(a["openBlock"])(),Object(a["createBlock"])("span",{key:0,textContent:Object(a["toDisplayString"])(t.user.email)},null,8,["textContent"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("div",O,[Object(a["createVNode"])("ul",j,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t.products,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"text-left",key:t},[Object(a["createVNode"])("div",null,Object(a["toDisplayString"])(e.product.title),1),Object(a["createTextVNode"])(" 數量："+Object(a["toDisplayString"])(e.qty)+" / "+Object(a["toDisplayString"])(e.product.unit),1)]))),128))])]),Object(a["createVNode"])("div",p,Object(a["toDisplayString"])(e.$filters.currency(t.total)),1),Object(a["createVNode"])("div",m,[Object(a["createVNode"])("div",u,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-check-input clearfix mx-auto",type:"checkbox",id:"paidSwitch"+t.id,"onUpdate:modelValue":e=>t.is_paid=e,onChange:c=>e.updatePaid(t)},null,40,["id","onUpdate:modelValue","onChange"]),[[a["vModelCheckbox"],t.is_paid]])])]),Object(a["createVNode"])("div",g,[Object(a["createVNode"])("div",N,[Object(a["createVNode"])("button",{class:"btn btn-outline-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#orderProductModal",onClick:e=>f.getOrder(t)},[V],8,["onClick"]),Object(a["createVNode"])("button",{class:"btn btn-outline-danger btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#delModal",onClick:e=>f.getOrder(t)},[h],8,["onClick"])])])],2))),128))])])]),Object(a["createVNode"])("ul",k,[e.orderLists.length>1?(Object(a["openBlock"])(),Object(a["createBlock"])(B,{key:0,"current-page":e.pagination.current_page,"total-page":e.pagination.total_pages,onChangePage:f.changePage},null,8,["current-page","total-page","onChangePage"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(w,{order:v.tempOrder,ref:"orderModal",onUpdatePaid:e.updatePaid},null,8,["order","onUpdatePaid"]),Object(a["createVNode"])(C,{item:v.tempOrder,onDelItem:f.delProduct,onCancel:e.cancel},null,8,["item","onDelItem","onCancel"])])}var v=c("e417");const f={class:"modal fade",id:"orderProductModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},x={class:"modal-dialog modal-xl modal-dialog-centered",role:"document"},B={class:"modal-content border-0"},w=Object(a["createVNode"])("div",{class:"modal-header border-bottom-0 font-weight-bold"},[Object(a["createVNode"])("h4",{class:"modal-title font-weight-bold",id:"exampleModalLabel"},[Object(a["createVNode"])("span",null,"訂單細節")]),Object(a["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),C={class:"modal-body"},D={class:"row"},S={class:"col-lg-4"},P=Object(a["createVNode"])("h4",{class:"font-weight-bold"},"用戶資料",-1),M={class:"table text-gray-400"},_={key:0},L=Object(a["createVNode"])("th",{width:"100"},"姓名",-1),$=Object(a["createVNode"])("th",{width:"100"},"Email",-1),T=Object(a["createVNode"])("th",{width:"100"},"電話",-1),J=Object(a["createVNode"])("th",{width:"100"},"地址",-1),U={class:"col-lg-8"},I=Object(a["createVNode"])("h4",{class:"font-weight-bold"},"訂單細節",-1),F={class:"table text-black"},q=Object(a["createVNode"])("th",{width:"100"},"訂單編號",-1),E=Object(a["createVNode"])("th",{width:"100"},"下單時間",-1),R=Object(a["createVNode"])("th",{width:"100"},"付款時間",-1),A={key:0},G={key:1},z=Object(a["createVNode"])("th",{width:"100"},"付款狀態",-1),H={key:0,class:"text-success"},K={key:1,class:"text-muted"},Q=Object(a["createVNode"])("th",{width:"100"},"總金額",-1),W=Object(a["createVNode"])("h4",{class:"font-weight-bold"},"選購商品",-1),X={class:"table"},Y=Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr")],-1),Z={width:"100"},ee={class:"text-end"},te={class:"d-flex justify-content-end"},ce={class:"form-check"},ae={class:"form-check-label",for:"flexCheckDefault"},oe={key:0},re={key:1},de={class:"modal-footer border-top-0"},le=Object(a["createVNode"])("button",{type:"button",class:"btn btn-gray-100","data-bs-dismiss":"modal"}," 取消 ",-1);function ne(e,t,c,o,r,d){return Object(a["openBlock"])(),Object(a["createBlock"])("div",f,[Object(a["createVNode"])("div",x,[Object(a["createVNode"])("div",B,[w,Object(a["createVNode"])("div",C,[Object(a["createVNode"])("div",D,[Object(a["createVNode"])("div",S,[P,Object(a["createVNode"])("table",M,[r.tempOrder.user?(Object(a["openBlock"])(),Object(a["createBlock"])("tbody",_,[Object(a["createVNode"])("tr",null,[L,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.name),1)]),Object(a["createVNode"])("tr",null,[$,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.email),1)]),Object(a["createVNode"])("tr",null,[T,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.tel),1)]),Object(a["createVNode"])("tr",null,[J,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.address),1)])])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])("div",U,[I,Object(a["createVNode"])("table",F,[Object(a["createVNode"])("tbody",null,[Object(a["createVNode"])("tr",null,[q,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.id),1)]),Object(a["createVNode"])("tr",null,[E,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(e.$filters.date(r.tempOrder.create_at)),1)]),Object(a["createVNode"])("tr",null,[R,Object(a["createVNode"])("td",null,[r.tempOrder.paid_date?(Object(a["openBlock"])(),Object(a["createBlock"])("span",A,Object(a["toDisplayString"])(r.tempOrder.paid_date),1)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",G,"時間不正確"))])]),Object(a["createVNode"])("tr",null,[z,Object(a["createVNode"])("td",null,[r.tempOrder.is_paid?(Object(a["openBlock"])(),Object(a["createBlock"])("strong",H,"已付款")):(Object(a["openBlock"])(),Object(a["createBlock"])("span",K,"尚未付款"))])]),Object(a["createVNode"])("tr",null,[Q,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.total),1)])])]),W,Object(a["createVNode"])("table",X,[Y,Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempOrder.products,t=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t.id},[Object(a["createVNode"])("th",Z,Object(a["toDisplayString"])(t.product.title),1),Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(t.qty)+" / "+Object(a["toDisplayString"])(t.product.unit),1),Object(a["createVNode"])("td",ee,Object(a["toDisplayString"])(e.$filters.currency(t.final_total)),1)]))),128))])]),Object(a["createVNode"])("div",te,[Object(a["createVNode"])("div",ce,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[1]||(t[1]=e=>r.tempOrder.is_paid=e)},null,512),[[a["vModelCheckbox"],r.tempOrder.is_paid]]),Object(a["createVNode"])("label",ae,[r.tempOrder.is_paid?(Object(a["openBlock"])(),Object(a["createBlock"])("span",oe,"已付款")):(Object(a["openBlock"])(),Object(a["createBlock"])("span",re,"未付款"))])])])])])]),Object(a["createVNode"])("div",de,[le,Object(a["createVNode"])("button",{type:"button",class:"btn btn-secondary text-white","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=t=>e.$store.dispatch("backend/fetchUpdateOrderPaid",r.tempOrder))}," 修改付款狀態 ")])])])])}var se={props:["order"],data(){return{status:{},modal:"",isPaid:!1,tempOrder:{}}},watch:{order(){this.tempOrder=JSON.parse(JSON.stringify(this.order))}}};se.render=ne;var ie=se,be=c("1799"),Oe=c("5502"),je=c("ac49"),pe={data(){return{msg:"訂單管理",tempOrder:{}}},components:{Pagination:be["a"],DelModal:v["a"],OrderModal:ie,InnerBanner:je["a"]},computed:{...Object(Oe["b"])({pagination:"backend/pagination",orderLists:"backend/orderLists"})},async created(){await this.$store.dispatch("backend/fetchGetOrders",1)},methods:{getOrder(e){this.tempOrder=JSON.parse(JSON.stringify(e))},async delProduct(e){this.$store.dispatch("backend/fetchRemoveOrder",e)},async changePage(e){await this.$store.dispatch("backend/fetchgetProductLists",e)}}};pe.render=y;t["default"]=pe},ac49:function(e,t,c){"use strict";var a=c("7a23");const o={class:"inner-banner mb-17"},r={class:"text-white h-100 text-7 font-weight-bold\n      d-flex justify-content-center align-items-center\n      position-relative index-carousel"};function d(e,t,c,d,l,n){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",r,Object(a["toDisplayString"])(c.msg),1)])}var l={props:["msg"],mounted(){console.log(this.msg)}};l.render=d;t["a"]=l},e417:function(e,t,c){"use strict";var a=c("7a23");const o={id:"delModal",ref:"delModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delModalLabel","aria-hidden":"true"},r={class:"modal-dialog modal-dialog-centered"},d={class:"modal-content border-0"},l=Object(a["createVNode"])("div",{class:"modal-header text-black text-center"},[Object(a["createVNode"])("h4",{id:"delModalLabel",class:"modal-title font-weight-bold mx-auto"},[Object(a["createVNode"])("span",null,[Object(a["createVNode"])("b",null,"刪除提示")])])],-1),n={class:"modal-body text-center"},s=Object(a["createVNode"])("span",{class:"material-icons text-danger text-7"}," warning ",-1),i=Object(a["createVNode"])("br",null,null,-1),b=Object(a["createVNode"])("br",null,null,-1),O=Object(a["createTextVNode"])(" 是否刪除 "),j={class:"text-danger"},p=Object(a["createTextVNode"])(" (刪除後將無法恢復)。 "),m={class:"modal-footer"};function u(e,t,c,u,g,N){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",d,[l,Object(a["createVNode"])("div",n,[s,i,b,O,Object(a["createVNode"])("strong",j,Object(a["toDisplayString"])(c.item.title),1),p]),Object(a["createVNode"])("div",m,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-gray-100","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=t=>e.$emit("cancel"))}," 取消 "),Object(a["createVNode"])("button",{type:"button",class:"btn btn-danger text-white","data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#delModal",onClick:t[2]||(t[2]=t=>e.$emit("delItem",c.item.id))}," 確認刪除 ")])])])],512)}var g={props:["item"]};g.render=u;t["a"]=g}}]);
//# sourceMappingURL=chunk-4793037c.f0178162.js.map