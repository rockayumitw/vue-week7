(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-591dd69a"],{"04d1":function(e,t,r){var c=r("342f"),o=c.match(/firefox\/(\d+)/i);e.exports=!!o&&+o[1]},1799:function(e,t,r){"use strict";var c=r("7a23");function o(e,t,r,o,n,a){return Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(r.totalPage,(e,t)=>(Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:["page-item",e==r.currentPage?"active":""],key:t},[Object(c["createVNode"])("a",{class:"page-link",href:"javascript:;",onClick:t=>a.goTop(e)},Object(c["toDisplayString"])(e),9,["onClick"])],2))),128)}var n=r("1157"),a=r.n(n),s={props:["currentPage","totalPage"],data(){return{}},methods:{goTop(e){this.$emit("changePage",e),a()("html, body").animate({scrollTop:250},"fast")}}};s.render=o;t["a"]=s},2473:function(e,t,r){"use strict";r.r(t);var c=r("7a23");const o={class:"inner-page products"},n={class:"container"},a={class:"mb-5 text-center d-flex"},s=Object(c["createVNode"])("span",null,"依價格排序",-1),i={key:0,class:"material-icons-outlined text-3"},d={key:1,class:"material-icons-outlined text-3"},l={key:2,class:"material-icons-outlined text-3"},u=Object(c["createVNode"])("option",{value:"0",selected:""},"全部",-1),p=Object(c["createVNode"])("option",{value:"1"},"冰淇淋",-1),b=Object(c["createVNode"])("option",{value:"2"},"蛋糕",-1),h=Object(c["createVNode"])("option",{value:"3"},"派",-1),g={class:""},f={class:"product-list row"},j={class:"pagination justify-content-center"};function O(e,t,r,O,m,k){const v=Object(c["resolveComponent"])("InnerBanner"),w=Object(c["resolveComponent"])("BuyProductCard"),P=Object(c["resolveComponent"])("Pagination");return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])(v,{msg:m.msg},null,8,["msg"]),Object(c["createVNode"])("div",n,[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("button",{class:"btn btn-secondary mr-1 text-white d-flex align-items-center",onClick:t[1]||(t[1]=e=>k.priceSort(m.selectSort))},[s,"none"===m.selectSort?(Object(c["openBlock"])(),Object(c["createBlock"])("span",i," unfold_more ")):Object(c["createCommentVNode"])("",!0),"down"===m.selectSort?(Object(c["openBlock"])(),Object(c["createBlock"])("span",d," expand_less ")):Object(c["createCommentVNode"])("",!0),"up"===m.selectSort?(Object(c["openBlock"])(),Object(c["createBlock"])("span",l," expand_more ")):Object(c["createCommentVNode"])("",!0)]),Object(c["withDirectives"])(Object(c["createVNode"])("select",{class:"form-select btn btn-secondary w-40 text-white","aria-label":"分類","onUpdate:modelValue":t[2]||(t[2]=e=>m.selected=e)},[u,p,b,h],512),[[c["vModelSelect"],m.selected]])]),Object(c["createVNode"])("div",g,[Object(c["createVNode"])("ul",f,[(Object(c["openBlock"])(!0),Object(c["createBlock"])(c["Fragment"],null,Object(c["renderList"])(k.newLists,e=>(Object(c["openBlock"])(),Object(c["createBlock"])("li",{class:"item-product col-6 col-sm-6 col-md-4 col-lg-3",key:e},[Object(c["createVNode"])(w,{product:e,onAddToCart:k.addToCart},null,8,["product","onAddToCart"])]))),128))]),Object(c["createVNode"])("ul",j,[Object(c["createVNode"])(P,{"current-page":m.currentPage,"total-page":k.totalPage,onChangePage:k.changePage},null,8,["current-page","total-page","onChangePage"])])])])])}r("4e82");var m=r("1799"),k=r("5502"),v=r("ac49"),w=r("4507"),P={components:{Pagination:m["a"],InnerBanner:v["a"],BuyProductCard:w["a"]},data(){return{msg:"商品列表",selected:"0",products:[],currentPage:1,perPage:12,selectSort:"none"}},computed:{...Object(k["b"])({spinner:"all/spinner",product:"frontend/product",pagination:"frontend/pagination",productLists:"frontend/productLists",allPageProducts:"frontend/allPageProducts"}),totalPage(){return console.log(this.products.length),Math.round(this.products.length/this.perPage)},newLists(){return this.products.slice((this.currentPage-1)*this.perPage,this.currentPage*this.perPage)}},watch:{selected(e){if(e){this.init();let e=this.selected;switch(e){case"0":e="全部";break;case"1":e="冰淇淋";break;case"2":e="蛋糕";break;case"3":e="派";break;default:}"全部"!==e&&(this.products=this.products.filter(t=>t.category===e)),this.changePage(this.currentPage)}}},async created(){await this.$store.dispatch("frontend/fetchgetProductLists"),await this.$store.dispatch("frontend/fetchAllPageProductLists"),this.products=this.allPageProducts,this.$route.query.categoryId,this.selected=this.$route.query.categoryId},mounted(){},methods:{init(){this.selectSort="none",this.currentPage=1,this.products=this.allPageProducts},priceSort(e){let t=e;if("none"===t||"down"===t){t="up",this.selectSort="up",console.log(this.selectSort);let e=this.newLists;e=e.sort((e,t)=>e.price>t.price?1:-1),this.newLists=e}else if("up"===t){this.selectSort="down";let e=this.newLists;e=e.sort((e,t)=>e.price<t.price?1:-1),this.newLists=e}},async changePage(e){this.currentPage=e;let t=this.products;t=t.slice((e-1)*this.perPage,e*this.perPage),this.newLists=t},async addToCart(e,t=1){await this.$store.commit("all/SAVE_SPINNER",e),await this.$store.dispatch("frontend/fetchAddToCart",{product_id:e,qty:t})}}};P.render=O;t["default"]=P},4507:function(e,t,r){"use strict";var c=r("7a23");const o={class:"card mb-5 border-0 overflow-hidden"},n={class:"material-icons-outlined text-white text-6",role:"button"},a={class:"overflow-hidden rounded-top"},s={class:"card-body"},i={class:"card-title text-right text-white font-weight-bold",style:{height:"50px"}},d={class:"card-text text-right text-white"},l=Object(c["createTextVNode"])(" | "),u=Object(c["createTextVNode"])(" / "),p={class:"body-footer"};function b(e,t,r,b,h,g){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",{class:"icon-bookmark position-absolute right-10 index-bookmarked",onClick:t[1]||(t[1]=t=>e.$store.dispatch("frontend/fetchBookmark",r.product))},[Object(c["createVNode"])("span",n,Object(c["toDisplayString"])(g.bookmarkId?"bookmark":"bookmark_border"),1)]),Object(c["createVNode"])("a",{onClick:t[2]||(t[2]=e=>this.$router.push("/product/"+r.product.id)),href:"javascript:;",class:"card border-0 rounded-0"},[Object(c["createVNode"])("div",a,[Object(c["createVNode"])("div",{class:"item-product-pic _lg",style:{backgroundImage:"url("+r.product.imageUrl+")"}},null,4)]),Object(c["createVNode"])("div",s,[Object(c["createVNode"])("h5",i,Object(c["toDisplayString"])(r.product.title),1),Object(c["createVNode"])("p",d,[Object(c["createVNode"])("del",null,Object(c["toDisplayString"])(e.$filters.currency(r.product.origin_price)),1),l,Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(e.$filters.currency(r.product.price)),1),u,Object(c["createVNode"])("span",null,Object(c["toDisplayString"])(r.product.unit),1)])])]),Object(c["createVNode"])("div",p,[Object(c["createVNode"])("a",{href:"javascript:;",class:"btn btn-secondary rounded-0 text-white w-100 rounded-bottom",onClick:t[3]||(t[3]=Object(c["withModifiers"])(t=>e.$emit("addToCart",r.product.id),["prevent"])),disabled:e.spinner===r.product.id},"加入購物車",8,["disabled"])])])}var h=r("5502"),g={props:["product"],computed:{...Object(h["b"])({spinner:"all/spinner",bookmarkLists:"frontend/bookmarkLists"}),bookmarkId(){const e=[];return this.bookmarkLists.forEach(t=>e.push(t.id)),e.indexOf(this.product.id)>-1}}};g.render=b;t["a"]=g},"4e82":function(e,t,r){"use strict";var c=r("23e7"),o=r("1c0b"),n=r("7b0b"),a=r("50c4"),s=r("d039"),i=r("addb"),d=r("a640"),l=r("04d1"),u=r("d998"),p=r("2d00"),b=r("512c"),h=[],g=h.sort,f=s((function(){h.sort(void 0)})),j=s((function(){h.sort(null)})),O=d("sort"),m=!s((function(){if(p)return p<70;if(!(l&&l>3)){if(u)return!0;if(b)return b<603;var e,t,r,c,o="";for(e=65;e<76;e++){switch(t=String.fromCharCode(e),e){case 66:case 69:case 70:case 72:r=3;break;case 68:case 71:r=4;break;default:r=2}for(c=0;c<47;c++)h.push({k:t+c,v:r})}for(h.sort((function(e,t){return t.v-e.v})),c=0;c<h.length;c++)t=h[c].k.charAt(0),o.charAt(o.length-1)!==t&&(o+=t);return"DGBEFHACIJK"!==o}})),k=f||!j||!O||!m,v=function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:String(t)>String(r)?1:-1}};c({target:"Array",proto:!0,forced:k},{sort:function(e){void 0!==e&&o(e);var t=n(this);if(m)return void 0===e?g.call(t):g.call(t,e);var r,c,s=[],d=a(t.length);for(c=0;c<d;c++)c in t&&s.push(t[c]);s=i(s,v(e)),r=s.length,c=0;while(c<r)t[c]=s[c++];while(c<d)delete t[c++];return t}})},"512c":function(e,t,r){var c=r("342f"),o=c.match(/AppleWebKit\/(\d+)\./);e.exports=!!o&&+o[1]},a640:function(e,t,r){"use strict";var c=r("d039");e.exports=function(e,t){var r=[][e];return!!r&&c((function(){r.call(null,t||function(){throw 1},1)}))}},ac49:function(e,t,r){"use strict";var c=r("7a23");const o={class:"inner-banner mb-17"},n={class:"text-white h-100 text-7 font-weight-bold\n      d-flex justify-content-center align-items-center\n      position-relative index-carousel"};function a(e,t,r,a,s,i){return Object(c["openBlock"])(),Object(c["createBlock"])("div",o,[Object(c["createVNode"])("div",n,Object(c["toDisplayString"])(r.msg),1)])}var s={props:["msg"],mounted(){console.log(this.msg)}};s.render=a;t["a"]=s},addb:function(e,t){var r=Math.floor,c=function(e,t){var a=e.length,s=r(a/2);return a<8?o(e,t):n(c(e.slice(0,s),t),c(e.slice(s),t),t)},o=function(e,t){var r,c,o=e.length,n=1;while(n<o){c=n,r=e[n];while(c&&t(e[c-1],r)>0)e[c]=e[--c];c!==n++&&(e[c]=r)}return e},n=function(e,t,r){var c=e.length,o=t.length,n=0,a=0,s=[];while(n<c||a<o)n<c&&a<o?s.push(r(e[n],t[a])<=0?e[n++]:t[a++]):s.push(n<c?e[n++]:t[a++]);return s};e.exports=c},d998:function(e,t,r){var c=r("342f");e.exports=/MSIE|Trident/.test(c)}}]);
//# sourceMappingURL=chunk-591dd69a.531d35bf.js.map