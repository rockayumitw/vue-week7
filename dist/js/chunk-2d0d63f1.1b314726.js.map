{"version":3,"sources":["webpack:///./src/views/Dashboard.vue","webpack:///./src/views/Dashboard.vue?8dc4"],"names":["class","id","to","href","signOut","authCheck","this","checkLogin","methods","token","document","cookie","replace","axios","defaults","headers","common","Authorization","api","post","then","res","data","success","console","log","alert","message","$router","push","render"],"mappings":"0JACOA,MAAM,c,EACT,yBAAa,UAAT,QAAI,G,GACHC,GAAG,MAAMD,MAAM,e,+BACE,Q,+BAAkB,O,+BACJ,U,+BAAoB,O,+BACtB,Q,+BAAkB,O,+BACjB,S,+BAAmB,O,+BACtB,Q,+BAAkB,O,4JAPpD,yBAWM,MAXN,EAWM,CAVJ,EACA,yBAOM,MAPN,EAOM,CANJ,yBAAsC,GAAzBE,GAAG,KAAG,C,6BAAC,IAAI,C,YACxB,yBAAsD,GAAzCA,GAAG,mBAAiB,C,6BAAC,IAAM,C,YACxC,yBAAkD,GAArCA,GAAG,iBAAe,C,6BAAC,IAAI,C,YACpC,yBAAoD,GAAvCA,GAAG,kBAAgB,C,6BAAC,IAAK,C,YACtC,yBAAgD,GAAnCA,GAAG,eAAa,C,6BAAC,IAAI,C,YAClC,yBAA2C,KAAxCC,KAAK,IAAK,QAAK,+CAAU,EAAAC,SAAA,EAAAA,WAAA,GAAO,eAAE,QAEpB,EAAAC,W,yBAAnB,yBAA4C,Y,uDAMjC,GACb,OACE,MAAO,CACLA,WAAW,IAGf,UACEC,KAAKC,cAEPC,QAAS,CACP,aACE,MAAMC,EAAQC,SAASC,OAAOC,QAAQ,8CAA+C,MACrF,GAAIH,EAAO,CACTH,KAAKO,MAAMC,SAASC,QAAQC,OAAOC,cAAiB,GAAER,EACtD,MAAMS,EAAO,sDACbZ,KAAKO,MAAMM,KAAKD,EAAKT,GAAOW,KAAMC,IAC5BA,EAAIC,KAAKC,SACXC,QAAQC,IAAI,UACZnB,KAAKD,WAAY,EACjBmB,QAAQC,IAAInB,KAAKD,aAEjBqB,MAAML,EAAIC,KAAKK,SACfrB,KAAKsB,QAAQC,KAAK,kBAItBH,MAAM,UACNpB,KAAKsB,QAAQC,KAAK,WAGtB,UACEnB,SAASC,OAAS,mBAClBa,QAAQC,IAAI,aACZD,QAAQC,IAAI,QACZnB,KAAKsB,QAAQC,KAAK,aChDxB,EAAOC,OAASA,EAED","file":"js/chunk-2d0d63f1.1b314726.js","sourcesContent":["<template>\n  <div class=\"inner-page\">\n    <h1>後台頁面</h1>\n    <div id=\"nav\" class=\"text-center\">\n      <router-link to=\"/\">回到前台</router-link> |\n      <router-link to=\"/admin/products\">後台產品列表</router-link> |\n      <router-link to=\"/admin/orders\">後台訂單</router-link> |\n      <router-link to=\"/admin/coupons\">優惠券列表</router-link> |\n      <router-link to=\"/admin/news\">文章列表</router-link> |\n      <a href=\"#\" @click.prevent=\"signOut\">登出</a>\n    </div>\n    <router-view v-if=\"authCheck\"></router-view>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  data() {\n    return {\n      authCheck: false,\n    };\n  },\n  created() {\n    this.checkLogin();\n  },\n  methods: {\n    checkLogin() {\n      const token = document.cookie.replace(/(?:(?:^|.*;\\s*)token\\s*=\\s*([^;]*).*$)|^.*$/, '$1');\n      if (token) {\n        this.axios.defaults.headers.common.Authorization = `${token}`;\n        const api = `${process.env.VUE_APP_API}/api/user/check`;\n        this.axios.post(api, token).then((res) => {\n          if (res.data.success) {\n            console.log('您已成功登入');\n            this.authCheck = true;\n            console.log(this.authCheck);\n          } else {\n            alert(res.data.message);\n            this.$router.push('/login');\n          }\n        });\n      } else {\n        alert('您尚未登入。');\n        this.$router.push('/login');\n      }\n    },\n    signOut() {\n      document.cookie = 'token=;expires=;';\n      console.log('token 已清除');\n      console.log('已經登出');\n      this.$router.push('/login');\n    },\n  },\n};\n</script>\n","import { render } from \"./Dashboard.vue?vue&type=template&id=0a295e72\"\nimport script from \"./Dashboard.vue?vue&type=script&lang=js\"\nexport * from \"./Dashboard.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}