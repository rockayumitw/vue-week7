(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7e6c62dc"],{1799:function(t,e,c){"use strict";var a=c("7a23");function o(t,e,c,o,r,n){return Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.totalPage,(e,o)=>(Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:["page-item",e==c.currentPage?"active":""],key:o},[Object(a["createVNode"])("a",{class:"page-link",href:"#",onClick:Object(a["withModifiers"])(c=>t.$store.dispatch("getProductLists",e),["prevent"])},Object(a["toDisplayString"])(e),9,["onClick"])],2))),128)}var r={props:["currentPage","totalPage"]};r.render=o;e["a"]=r},"1fae":function(t,e,c){"use strict";c.r(e);var a=c("7a23");const o={class:"container"},r=Object(a["createVNode"])("h1",{class:"h3 pt-4 text-white font-weight-bold text-center"},"Product List",-1),n={class:"btn-area text-end mt-4"},s={class:"table-box"},i={class:"table mt-4"},l=Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr",null,[Object(a["createVNode"])("th",{class:"text-left",width:"150"},"CATEGORY"),Object(a["createVNode"])("th",null,"PRODUCTNAME"),Object(a["createVNode"])("th",{class:"text-right",width:"150"},"ORIGINPRICE"),Object(a["createVNode"])("th",{class:"text-right",width:"150"},"PRICE"),Object(a["createVNode"])("th",{class:"text-center",width:"120"},"ENABLE")])],-1),d={id:"productList",class:"js-productList"},b={class:"text-left",width:"150"},p={class:"text-end",width:"150"},g={class:"text-end",width:"150"},u={class:"text-center",width:"120"},O={key:0,class:"text-center"},j={key:1,class:"text-center"},h={class:"pagination justify-content-center"};function m(t,e,c,m,N,k){const V=Object(a["resolveComponent"])("Pagination"),P=Object(a["resolveComponent"])("loading");return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[r,Object(a["createVNode"])("div",n,[Object(a["createVNode"])("button",{class:"btn btn-primary font-weight-bold mr-5 d-none",onClick:e[1]||(e[1]=e=>t.getProductID()),"data-bs-toggle":"modal","data-bs-target":"#productModal"}," ADD NEW PRODUCT ")]),Object(a["createVNode"])("div",s,[Object(a["createVNode"])("table",i,[l,Object(a["createVNode"])("tbody",d,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(N.products,(t,e)=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:e},[Object(a["createVNode"])("td",b,Object(a["toDisplayString"])(t.category),1),Object(a["createVNode"])("td",null,[Object(a["createVNode"])("div",null,Object(a["toDisplayString"])(t.title),1),""!=t.imageUrl?(Object(a["openBlock"])(),Object(a["createBlock"])("img",{key:0,width:"150",src:t.imageUrl,alt:""},null,8,["src"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("td",p,Object(a["toDisplayString"])(t.origin_price),1),Object(a["createVNode"])("td",g,Object(a["toDisplayString"])(t.price),1),Object(a["createVNode"])("td",u,[t.is_enabled?(Object(a["openBlock"])(),Object(a["createBlock"])("span",O,"啟用")):(Object(a["openBlock"])(),Object(a["createBlock"])("span",j,"未啟用"))])]))),128))])]),Object(a["createVNode"])("ul",h,[Object(a["createVNode"])(V,{"current-page":N.currentPage,"total-page":N.totalPage,onGetProductLists:k.getProductLists},null,8,["current-page","total-page","onGetProductLists"])])]),Object(a["createVNode"])(P,{active:t.loading,"onUpdate:active":e[2]||(e[2]=e=>t.loading=e),"can-cancel":!0,loader:"dots"},null,8,["active"])])}var N=c("1799"),k=c("5502"),V=c("9062"),P=c.n(V),w={props:["token"],components:{Pagination:N["a"],Loading:P.a},computed:{...Object(k["b"])({loading:"loading"})},data(){return{productId:"",productName:"",product:{category:"",content:"",description:"",id:"",imageUrl:"",is_enabled:0,num:"",origin_price:"",price:"",title:"",unit:""},products:[],tempProduct:{},currentPage:"",totalPage:"",image:""}},created(){console.log("後台產品列表"),this.getProductLists()},mounted(){console.log(this)},methods:{async getProductLists(t=1){this.$store.commit("SAVE_LOADING",!0),console.log("取得產品列表");const e="https://vue3-course-api.hexschool.io/api/traveltime1221/admin/products?page="+t;await this.axios.get(e).then(t=>{this.$store.commit("SAVE_LOADING",!1),t.data.success?(this.products=t.data.products,this.totalPage=t.data.pagination.total_pages,this.currentPage=t.data.pagination.current_page):this.$swal.fire({icon:"error",title:t.data.message,text:""})}).catch(t=>console.log(t.response))}}};w.render=m;e["default"]=w}}]);
//# sourceMappingURL=chunk-7e6c62dc.b038e401.js.map