{"version":3,"sources":["webpack:///./src/components/Pagination.vue","webpack:///./src/components/Pagination.vue?f819","webpack:///./src/views/Dashboard/Products.vue","webpack:///./src/views/Dashboard/Products.vue?beba"],"names":["totalPage","page","index","class","currentPage","key","href","$store","dispatch","props","render","width","id","getProductID","data-bs-toggle","data-bs-target","products","product","category","title","imageUrl","src","alt","origin_price","price","is_enabled","current-page","total-page","getProductLists","active","loading","can-cancel","loader","components","Pagination","Loading","computed","productId","productName","content","description","num","unit","tempProduct","image","console","log","this","methods","commit","url","axios","get","then","res","data","success","pagination","total_pages","current_page","$swal","fire","icon","message","text","catch","err","response"],"mappings":"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","file":"js/chunk-7e6c62dc.b038e401.js","sourcesContent":["<template>\n    <li\n      class=\"page-item\"\n      :class=\"page == currentPage ? 'active' : ''\"\n      v-for=\"(page, index) in totalPage\"\n      :key=\"index\"\n    >\n      <a class=\"page-link\" href=\"#\"\n      @click.prevent=\"$store.dispatch('getProductLists', page)\">{{ page }}</a>\n    </li>\n</template>\n\n<script>\nexport default {\n  props: ['currentPage', 'totalPage'],\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=2708a9c0\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","<template>\n  <div class=\"container\">\n    <h1 class=\"h3 pt-4 text-white font-weight-bold text-center\">Product List</h1>\n    <div class=\"btn-area text-end mt-4\">\n      <button\n        class=\"btn btn-primary font-weight-bold mr-5 d-none\"\n        @click=\"getProductID()\"\n        data-bs-toggle=\"modal\"\n        data-bs-target=\"#productModal\"\n      >\n        ADD NEW PRODUCT\n      </button>\n    </div>\n    <div class=\"table-box\">\n      <table class=\"table mt-4\">\n        <thead>\n          <tr>\n            <th class=\"text-left\" width=\"150\">CATEGORY</th>\n            <th>PRODUCTNAME</th>\n            <th class=\"text-right\" width=\"150\">ORIGINPRICE</th>\n            <th class=\"text-right\" width=\"150\">PRICE</th>\n            <th class=\"text-center\" width=\"120\">ENABLE</th>\n          </tr>\n        </thead>\n        <tbody id=\"productList\" class=\"js-productList\">\n          <tr v-for=\"(product, key) in products\" :key=\"key\">\n            <td class=\"text-left\" width=\"150\">{{ product.category }}</td>\n            <td>\n              <div>{{ product.title }}</div>\n              <img\n                v-if=\"product.imageUrl != ''\"\n                width=\"150\"\n                :src=\"product.imageUrl\"\n                alt=\"\"\n              />\n            </td>\n            <td class=\"text-end\" width=\"150\">{{ product.origin_price }}</td>\n            <td class=\"text-end\" width=\"150\">{{ product.price }}</td>\n            <td class=\"text-center\" width=\"120\">\n              <span class=\"text-center\" v-if=\"product.is_enabled\">啟用</span>\n              <span class=\"text-center\" v-else>未啟用</span>\n            </td>\n            <!-- <td width=\"120\" class=\"text-center\">\n              <div class=\"btn-group\">\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm js-edit\"\n                  @click=\"getProductID(product)\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#productModal\"\n                >\n                  <i class=\"fas fa-edit\"></i>\n                </button>\n                <button\n                  type=\"button\"\n                  class=\"btn btn-sm js-del\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#delProductModal\"\n                  @click=\"getProductID(product)\"\n                >\n                  <i class=\"far fa-trash-alt\"></i>\n                </button>\n              </div>\n            </td> -->\n          </tr>\n        </tbody>\n      </table>\n      <ul class=\"pagination justify-content-center\">\n        <Pagination\n          :current-page=\"currentPage\"\n          :total-page=\"totalPage\"\n          @get-product-lists=\"getProductLists\"\n        ></Pagination>\n      </ul>\n    </div>\n  <loading v-model:active=\"loading\" :can-cancel=\"true\" loader=\"dots\"></loading>\n  </div>\n</template>\n\n<script>\nimport Pagination from '@/components/Pagination.vue';\nimport { mapGetters } from 'vuex';\nimport Loading from 'vue-loading-overlay';\n\nexport default {\n  props: ['token'],\n  components: {\n    Pagination,\n    Loading,\n  },\n  computed: {\n    ...mapGetters({\n      loading: 'loading',\n    }),\n  },\n  data() {\n    return {\n      productId: '',\n      productName: '',\n      product: {\n        category: '',\n        content: '',\n        description: '',\n        id: '',\n        imageUrl: '',\n        is_enabled: 0,\n        num: '',\n        origin_price: '',\n        price: '',\n        title: '',\n        unit: '',\n      },\n      products: [],\n      tempProduct: {},\n      currentPage: '',\n      totalPage: '',\n      image: '',\n      // isLoading: true,\n    };\n  },\n  created() {\n    console.log('後台產品列表');\n    this.getProductLists();\n  },\n  mounted() {\n    console.log(this);\n  },\n  methods: {\n    async getProductLists(page = 1) {\n      this.$store.commit('SAVE_LOADING', true);\n      console.log('取得產品列表');\n      // 取得產品列表\n      const url = `https://vue3-course-api.hexschool.io/api/traveltime1221/admin/products?page=${page}`;\n      await this.axios\n        .get(url)\n        .then((res) => {\n          this.$store.commit('SAVE_LOADING', false);\n          if (res.data.success) {\n            this.products = res.data.products;\n            this.totalPage = res.data.pagination.total_pages;\n            this.currentPage = res.data.pagination.current_page;\n          } else {\n            this.$swal.fire({\n              icon: 'error',\n              title: res.data.message,\n              text: '',\n            });\n          }\n        })\n        .catch((err) => console.log(err.response));\n    },\n  },\n};\n</script>\n","import { render } from \"./Products.vue?vue&type=template&id=108ae5c1\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}