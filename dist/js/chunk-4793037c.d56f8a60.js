(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4793037c"],{1799:function(e,t,c){"use strict";var a=c("7a23");function o(e,t,c,o,r,l){return Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(c.totalPage,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:["page-item",e==c.currentPage?"active":""],key:t},[Object(a["createVNode"])("a",{class:"page-link",href:"javascript:;",onClick:t=>l.goTop(e)},Object(a["toDisplayString"])(e),9,["onClick"])],2))),128)}var r=c("1157"),l=c.n(r),d={props:["currentPage","totalPage"],data(){return{}},methods:{goTop(e){this.$emit("changePage",e),l()("html, body").animate({scrollTop:250},"fast")}}};d.render=o;t["a"]=d},"67e3":function(e,t,c){"use strict";c.r(t);var a=c("7a23");const o={class:"table"},r=Object(a["createStaticVNode"])('<div class="table-thead row text-white w-100 py-3 align-items-center gx-1"><div class="col-2 col-md-2 d-none d-md-block">購買時間</div><div class="col-5 col-md-3 text-left"> Email </div><div class="col-3 col-md-3 text-right d-none">購買款項</div><div class="col-3 col-md-2 text-center">應付金額</div><div class="col-2 col-md-2 text-center"> 是否付款 </div><div class="col-2 col-md-2 text-center">編輯</div></div>',1),l={class:"col-2 col-md-2 d-none d-md-block"},d={class:"col-5 col-md-3 text-left"},n={class:"d-inline d-md-none"},s=Object(a["createVNode"])("br",null,null,-1),i={class:"col-3 col-md-3 text-center d-none"},b={class:"list-unstyled"},O={class:"col-3 col-md-2 text-right"},j={class:"col-2 col-md-2 text-center d-flex justify-content-center align-items-center"},p={class:"form-check form-switch"},u={class:"col-2 col-md-2 text-center"},m={class:"btn-group p-0 p-md-1"},g=Object(a["createVNode"])("span",{class:"material-icons text-3"}," visibility ",-1),N=Object(a["createVNode"])("span",{class:"material-icons text-3"},"delete",-1),V={class:"pagination justify-content-center"};function k(e,t,c,k,h,y){const v=Object(a["resolveComponent"])("InnerBanner"),x=Object(a["resolveComponent"])("Pagination"),f=Object(a["resolveComponent"])("OrderModal"),B=Object(a["resolveComponent"])("DelModal");return Object(a["openBlock"])(),Object(a["createBlock"])("div",null,[Object(a["createVNode"])(v,{msg:h.msg},null,8,["msg"]),e.orderLists.length>0?(Object(a["openBlock"])(),Object(a["createBlock"])("button",{key:0,class:"btn btn-secondary float-end mb-5 text-white",onClick:t[1]||(t[1]=t=>e.$store.dispatch("backend/fetchRemoveAllOrder"))}," 刪除全部訂單 ")):Object(a["createCommentVNode"])("",!0),Object(a["createVNode"])("div",o,[r,(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(e.orderLists,(t,c)=>(Object(a["openBlock"])(),Object(a["createBlock"])("div",{class:["table-tr row text-white w-100 align-items-center py-3 align-items-center gx-1",{"text-secondary":!t.is_paid}],key:c},[Object(a["createVNode"])("div",l,Object(a["toDisplayString"])(e.$filters.date(t.create_at)),1),Object(a["createVNode"])("div",d,[Object(a["createVNode"])("span",n,[Object(a["createTextVNode"])(Object(a["toDisplayString"])(e.$filters.date(t.create_at)),1),s]),t.user?(Object(a["openBlock"])(),Object(a["createBlock"])("span",{key:0,textContent:Object(a["toDisplayString"])(t.user.email)},null,8,["textContent"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])("div",i,[Object(a["createVNode"])("ul",b,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(t.products,(e,t)=>(Object(a["openBlock"])(),Object(a["createBlock"])("li",{class:"text-left",key:t},[Object(a["createVNode"])("div",null,Object(a["toDisplayString"])(e.product.title),1),Object(a["createTextVNode"])(" 數量："+Object(a["toDisplayString"])(e.qty)+" / "+Object(a["toDisplayString"])(e.product.unit),1)]))),128))])]),Object(a["createVNode"])("div",O,Object(a["toDisplayString"])(e.$filters.currency(t.total)),1),Object(a["createVNode"])("div",j,[Object(a["createVNode"])("div",p,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-check-input clearfix mx-auto",type:"checkbox",id:"paidSwitch"+t.id,"onUpdate:modelValue":e=>t.is_paid=e,onChange:c=>e.updatePaid(t)},null,40,["id","onUpdate:modelValue","onChange"]),[[a["vModelCheckbox"],t.is_paid]])])]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])("div",m,[Object(a["createVNode"])("button",{class:"btn btn-outline-primary btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#orderProductModal",onClick:e=>y.getOrder(t)},[g],8,["onClick"]),Object(a["createVNode"])("button",{class:"btn btn-outline-danger btn-sm",type:"button","data-bs-toggle":"modal","data-bs-target":"#delModal",onClick:e=>y.getOrder(t)},[N],8,["onClick"])])])],2))),128))]),Object(a["createVNode"])("ul",V,[e.orderLists.length>1?(Object(a["openBlock"])(),Object(a["createBlock"])(x,{key:0,"current-page":e.pagination.current_page,"total-page":e.pagination.total_pages,onChangePage:y.changePage},null,8,["current-page","total-page","onChangePage"])):Object(a["createCommentVNode"])("",!0)]),Object(a["createVNode"])(f,{order:h.tempOrder,ref:"orderModal",onUpdatePaid:e.updatePaid},null,8,["order","onUpdatePaid"]),Object(a["createVNode"])(B,{item:h.tempOrder,onDelItem:y.delProduct,onCancel:e.cancel},null,8,["item","onDelItem","onCancel"])])}var h=c("e417");const y={class:"modal fade",id:"orderProductModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"},v={class:"modal-dialog modal-xl",role:"document"},x={class:"modal-content border-0"},f=Object(a["createVNode"])("div",{class:"modal-header bg-dark text-white"},[Object(a["createVNode"])("h5",{class:"modal-title",id:"exampleModalLabel"},[Object(a["createVNode"])("span",null,"訂單細節")]),Object(a["createVNode"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),B={class:"modal-body"},w={class:"row"},C={class:"col-lg-4"},D=Object(a["createVNode"])("h3",null,"用戶資料",-1),S={class:"table"},P={key:0},M=Object(a["createVNode"])("th",{width:"100"},"姓名",-1),_=Object(a["createVNode"])("th",{width:"100"},"Email",-1),L=Object(a["createVNode"])("th",{width:"100"},"電話",-1),$=Object(a["createVNode"])("th",{width:"100"},"地址",-1),T={class:"col-lg-8"},J=Object(a["createVNode"])("h3",null,"訂單細節",-1),U={class:"table text-black"},I=Object(a["createVNode"])("th",{width:"100"},"訂單編號",-1),F=Object(a["createVNode"])("th",{width:"100"},"下單時間",-1),q=Object(a["createVNode"])("th",{width:"100"},"付款時間",-1),E={key:0},R={key:1},A=Object(a["createVNode"])("th",{width:"100"},"付款狀態",-1),G={key:0,class:"text-success"},z={key:1,class:"text-muted"},H=Object(a["createVNode"])("th",{width:"100"},"總金額",-1),K=Object(a["createVNode"])("h3",null,"選購商品",-1),Q={class:"table"},W=Object(a["createVNode"])("thead",null,[Object(a["createVNode"])("tr")],-1),X={width:"100"},Y={class:"text-end"},Z={class:"d-flex justify-content-end"},ee={class:"form-check"},te={class:"form-check-label",for:"flexCheckDefault"},ce={key:0},ae={key:1},oe={class:"modal-footer"},re=Object(a["createVNode"])("button",{type:"button",class:"btn btn-gray-100","data-bs-dismiss":"modal"}," 取消 ",-1);function le(e,t,c,o,r,l){return Object(a["openBlock"])(),Object(a["createBlock"])("div",y,[Object(a["createVNode"])("div",v,[Object(a["createVNode"])("div",x,[f,Object(a["createVNode"])("div",B,[Object(a["createVNode"])("div",w,[Object(a["createVNode"])("div",C,[D,Object(a["createVNode"])("table",S,[r.tempOrder.user?(Object(a["openBlock"])(),Object(a["createBlock"])("tbody",P,[Object(a["createVNode"])("tr",null,[M,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.name),1)]),Object(a["createVNode"])("tr",null,[_,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.email),1)]),Object(a["createVNode"])("tr",null,[L,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.tel),1)]),Object(a["createVNode"])("tr",null,[$,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.user.address),1)])])):Object(a["createCommentVNode"])("",!0)])]),Object(a["createVNode"])("div",T,[J,Object(a["createVNode"])("table",U,[Object(a["createVNode"])("tbody",null,[Object(a["createVNode"])("tr",null,[I,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.id),1)]),Object(a["createVNode"])("tr",null,[F,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(e.$filters.date(r.tempOrder.create_at)),1)]),Object(a["createVNode"])("tr",null,[q,Object(a["createVNode"])("td",null,[r.tempOrder.paid_date?(Object(a["openBlock"])(),Object(a["createBlock"])("span",E,Object(a["toDisplayString"])(r.tempOrder.paid_date),1)):(Object(a["openBlock"])(),Object(a["createBlock"])("span",R,"時間不正確"))])]),Object(a["createVNode"])("tr",null,[A,Object(a["createVNode"])("td",null,[r.tempOrder.is_paid?(Object(a["openBlock"])(),Object(a["createBlock"])("strong",G,"已付款")):(Object(a["openBlock"])(),Object(a["createBlock"])("span",z,"尚未付款"))])]),Object(a["createVNode"])("tr",null,[H,Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(r.tempOrder.total),1)])])]),K,Object(a["createVNode"])("table",Q,[W,Object(a["createVNode"])("tbody",null,[(Object(a["openBlock"])(!0),Object(a["createBlock"])(a["Fragment"],null,Object(a["renderList"])(r.tempOrder.products,t=>(Object(a["openBlock"])(),Object(a["createBlock"])("tr",{key:t.id},[Object(a["createVNode"])("th",X,Object(a["toDisplayString"])(t.product.title),1),Object(a["createVNode"])("td",null,Object(a["toDisplayString"])(t.qty)+" / "+Object(a["toDisplayString"])(t.product.unit),1),Object(a["createVNode"])("td",Y,Object(a["toDisplayString"])(e.$filters.currency(t.final_total)),1)]))),128))])]),Object(a["createVNode"])("div",Z,[Object(a["createVNode"])("div",ee,[Object(a["withDirectives"])(Object(a["createVNode"])("input",{class:"form-check-input",type:"checkbox",value:"",id:"flexCheckDefault","onUpdate:modelValue":t[1]||(t[1]=e=>r.tempOrder.is_paid=e)},null,512),[[a["vModelCheckbox"],r.tempOrder.is_paid]]),Object(a["createVNode"])("label",te,[r.tempOrder.is_paid?(Object(a["openBlock"])(),Object(a["createBlock"])("span",ce,"已付款")):(Object(a["openBlock"])(),Object(a["createBlock"])("span",ae,"未付款"))])])])])])]),Object(a["createVNode"])("div",oe,[re,Object(a["createVNode"])("button",{type:"button",class:"btn btn-secondary text-white","data-bs-dismiss":"modal",onClick:t[2]||(t[2]=t=>e.$store.dispatch("backend/fetchUpdateOrderPaid",r.tempOrder))}," 修改付款狀態 ")])])])])}var de={props:["order"],data(){return{status:{},modal:"",isPaid:!1,tempOrder:{}}},watch:{order(){this.tempOrder=JSON.parse(JSON.stringify(this.order))}}};de.render=le;var ne=de,se=c("1799"),ie=c("5502"),be=c("ac49"),Oe={data(){return{msg:"訂單管理",tempOrder:{}}},components:{Pagination:se["a"],DelModal:h["a"],OrderModal:ne,InnerBanner:be["a"]},computed:{...Object(ie["b"])({pagination:"backend/pagination",orderLists:"backend/orderLists"})},async created(){await this.$store.dispatch("backend/fetchGetOrders",1)},methods:{getOrder(e){this.tempOrder=JSON.parse(JSON.stringify(e))},async delProduct(e){this.$store.dispatch("backend/fetchRemoveOrder",e)},async changePage(e){await this.$store.dispatch("backend/fetchgetProductLists",e)}}};Oe.render=k;t["default"]=Oe},ac49:function(e,t,c){"use strict";var a=c("7a23");const o={class:"inner-banner mb-17"},r={class:"text-white h-100 text-7 font-weight-bold\n      d-flex justify-content-center align-items-center\n      position-relative index-carousel"};function l(e,t,c,l,d,n){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",r,Object(a["toDisplayString"])(c.msg),1)])}var d={props:["msg"],mounted(){console.log(this.msg)}};d.render=l;t["a"]=d},e417:function(e,t,c){"use strict";var a=c("7a23");const o={id:"delModal",ref:"delModal",class:"modal fade",tabindex:"-1","aria-labelledby":"delModalLabel","aria-hidden":"true"},r={class:"modal-dialog modal-dialog-centered"},l={class:"modal-content border-0"},d=Object(a["createVNode"])("div",{class:"modal-header text-black text-center"},[Object(a["createVNode"])("h4",{id:"delModalLabel",class:"modal-title font-weight-bold mx-auto"},[Object(a["createVNode"])("span",null,[Object(a["createVNode"])("b",null,"刪除提示")])])],-1),n={class:"modal-body text-center"},s=Object(a["createVNode"])("span",{class:"material-icons text-danger text-7"}," warning ",-1),i=Object(a["createVNode"])("br",null,null,-1),b=Object(a["createVNode"])("br",null,null,-1),O=Object(a["createTextVNode"])(" 是否刪除 "),j={class:"text-danger"},p=Object(a["createTextVNode"])(" (刪除後將無法恢復)。 "),u={class:"modal-footer"};function m(e,t,c,m,g,N){return Object(a["openBlock"])(),Object(a["createBlock"])("div",o,[Object(a["createVNode"])("div",r,[Object(a["createVNode"])("div",l,[d,Object(a["createVNode"])("div",n,[s,i,b,O,Object(a["createVNode"])("strong",j,Object(a["toDisplayString"])(c.item.title),1),p]),Object(a["createVNode"])("div",u,[Object(a["createVNode"])("button",{type:"button",class:"btn btn-gray-100","data-bs-dismiss":"modal",onClick:t[1]||(t[1]=t=>e.$emit("cancel"))}," 取消 "),Object(a["createVNode"])("button",{type:"button",class:"btn btn-danger text-white","data-bs-dismiss":"modal","data-bs-toggle":"modal","data-bs-target":"#delModal",onClick:t[2]||(t[2]=t=>e.$emit("delItem",c.item.id))}," 確認刪除 ")])])])],512)}var g={props:["item"]};g.render=m;t["a"]=g}}]);
//# sourceMappingURL=chunk-4793037c.d56f8a60.js.map