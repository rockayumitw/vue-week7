{"version":3,"sources":["webpack:///./src/views/Dashboard/News.vue","webpack:///./src/components/modal/ArticleModal.vue","webpack:///./src/components/modal/ArticleModal.vue?8651","webpack:///./src/views/Dashboard/News.vue?50f9","webpack:///./src/components/modal/ArticleModal.vue?ba2f"],"names":["class","msg","type","$refs","articleModal","modal","articleLists","article","key","id","title","author","description","$filters","date","create_at","isPublic","getArticle","data-bs-toggle","data-bs-target","ref","tempArticle","updateArticle","item","delArticle","tabindex","role","aria-labelledby","aria-hidden","data-bs-dismiss","aria-label","novalidate","for","undefined","placeholder","required","imageUrl","tag","label","splice","push","editor","config","editorConfig","props","Object","toolbar","watch","this","Date","toISOString","split","Math","floor","keyboard","backdrop","addEventListener","init","methods","forms","document","querySelector","classList","remove","state","show","hide","check","querySelectorAll","console","log","Array","prototype","slice","call","forEach","form","event","checkValidity","preventDefault","stopPropagation","add","setTimeout","$emit","render","components","DelModal","ArticleModal","InnerBanner","computed","$store","dispatch","JSON","parse","stringify"],"mappings":"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","file":"js/chunk-373436b2.0507d30e.js","sourcesContent":["<template>\n  <div>\n    <div class=\"inner-banner mb-17\">\n      <InnerBanner :msg=\"msg\" />\n    </div>\n    <div class=\"text-end mb-4\">\n      <button class=\"btn btn-secondary text-white\"\n      type=\"button\"\n      @click=\"$refs.articleModal.modal('show')\">\n        建立新的頁面\n      </button>\n    </div>\n    <!---->\n    <div class=\"table-box\">\n      <div class=\"table\">\n        <div class=\"table-thead row text-white w-100 py-3 align-items-center gx-1\">\n          <div class=\"col-3 col-md-2\">標題</div>\n          <div class=\"col-2 text-center\">\n            作者\n          </div>\n          <div class=\"col-2 text-center d-none d-md-block\">描述</div>\n          <div class=\"col-3 col-md-2 text-center\">\n            建立時間\n          </div>\n          <div class=\"col-2 text-center\">狀態</div>\n          <div class=\"col-2 text-center\">編輯</div>\n        </div>\n\n        <div class=\"table-tr row text-white w-100 align-items-center py-3 align-items-center gx-1\"\n        v-for=\"article in articleLists\" :key=\"article.id\">\n          <div class=\"col-3 col-md-2\">{{ article.title }}</div>\n          <div class=\"col-2 text-center\">\n            {{ article.author }}\n          </div>\n          <div class=\"col-2 text-left overflow-hidden d-none d-md-block\">\n            <div class=\"ellipsis py-0\" v-html=\"article.description\"></div>\n          </div>\n          <div class=\"col-3 col-md-2 text-center\">\n            {{ $filters.date(article.create_at) }}\n          </div>\n          <div class=\"col-2 text-center\">\n            <span v-if=\"article.isPublic\" class=\"text-success\">\n              <span class=\"material-icons\">toggle_on</span>\n            </span>\n            <span v-else class=\"text-muted\">\n              <span class=\"material-icons\">toggle_on</span>\n            </span>\n          </div>\n          <div class=\"col-2 text-center\">\n            <div class=\"btn-group p-0 p-md-1\">\n                <button\n                  class=\"btn btn-outline-primary btn-sm\"\n                  type=\"button\"\n                  @click=\"getArticle(article), $refs.articleModal.modal('show');\"\n                >\n                  <span class=\"material-icons text-3\">edit</span>\n                </button>\n                <button\n                  class=\"btn btn-outline-danger btn-sm\"\n                  type=\"button\"\n                  data-bs-toggle=\"modal\"\n                  data-bs-target=\"#delModal\"\n                  @click=\"getArticle(article)\"\n                >\n                  <span class=\"material-icons text-3\">delete</span>\n                </button>\n              </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <ArticleModal\n      ref=\"articleModal\"\n      :article=\"tempArticle\"\n      @update-article=\"updateArticle\"\n    ></ArticleModal>\n    <DelModal :item=\"tempArticle\" ref=\"delModal\" @del-item=\"delArticle\" />\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport ArticleModal from '@/components/modal/ArticleModal.vue';\nimport DelModal from '@/components/modal/DelModal.vue';\nimport InnerBanner from '@/components/InnerBanner.vue';\n\nexport default {\n  data() {\n    return {\n      msg: '文章管理',\n      tempArticle: {},\n    };\n  },\n  components: {\n    DelModal,\n    ArticleModal,\n    InnerBanner,\n  },\n  computed: {\n    ...mapGetters({\n      articleLists: 'backend/articleLists',\n    }),\n  },\n  async created() {\n    await this.$store.dispatch('backend/fetchGetArticles', 1);\n  },\n  methods: {\n    getArticle(article) {\n      this.tempArticle = JSON.parse(JSON.stringify(article));\n    },\n    async updateArticle(tempArticle) {\n      await this.$store.dispatch('backend/fetchUpdateArticle', tempArticle);\n    },\n    async delArticle(id) {\n      await this.$store.dispatch('backend/fetchRemoveArticle', id);\n    },\n  },\n};\n</script>\n","<template>\n  <div\n    class=\"modal fade\"\n    id=\"articleModal\"\n    tabindex=\"-1\"\n    role=\"dialog\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"articleModal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h4 class=\"modal-title font-weight-bold\" id=\"exampleModalLabel\">\n            <span v-if=\"tempArticle.id == undefined\">新增貼文</span>\n            <span v-else>編輯貼文</span>\n          </h4>\n          <button\n            type=\"button\"\n            class=\"btn-close\"\n            data-bs-dismiss=\"modal\"\n            aria-label=\"Close\"\n          ></button>\n        </div>\n        <div class=\"modal-body\">\n          <!--表單-->\n          <form class=\"row needs-validation\" novalidate>\n            <div class=\"col-md-4\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">\n                  <small class=\"text-danger\">*</small>\n                  標題\n                </label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  v-model=\"tempArticle.title\"\n                  placeholder=\"請輸入標題\"\n                  required\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  v-model=\"tempArticle.imageUrl\"\n                  placeholder=\"請輸入圖片連結\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"author\" class=\"form-label\">\n                  <small class=\"text-danger\">*</small>\n                  作者\n                </label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"author\"\n                  v-model=\"tempArticle.author\"\n                  placeholder=\"請輸入標題\"\n                  required\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"create_at\">\n                  <small class=\"text-danger\">*</small>\n                  文章建立日期\n                </label>\n                <input\n                  type=\"date\"\n                  class=\"form-control\"\n                  id=\"create_at\"\n                  v-model=\"create_at\"\n                  required\n                />\n              </div>\n            </div>\n            <div class=\"col-md-8\">\n              <label for=\"tag\" class=\"form-label\">標籤</label>\n              <div class=\"row gx-1 mb-3\">\n                <div\n                  class=\"col-md-3 mb-1\"\n                  v-for=\"(label, key) in tempArticle.tag\"\n                  :key=\"key\"\n                >\n                  <div class=\"input-group input-group-sm\">\n                    <input\n                      type=\"text\"\n                      class=\"form-control form-control\"\n                      id=\"tag\"\n                      v-model=\"tempArticle.tag[key]\"\n                      placeholder=\"請輸入標籤\"\n                    />\n                    <button\n                      type=\"button\"\n                      class=\"btn btn-outline-danger\"\n                      @click=\"tempArticle.tag.splice(key, 1)\"\n                    >\n                      <i class=\"bi bi-x\"></i>\n                    </button>\n                  </div>\n                </div>\n                <div\n                  class=\"col-md-2 mb-1\"\n                  v-if=\"\n                    tempArticle.tag[tempArticle.tag.length - 1] ||\n                    !tempArticle.tag.length\">\n                  <button\n                    class=\"btn btn-secondary btn-sm w-100 text-white\"\n                    @click=\"tempArticle.tag.push('')\"\n                  >\n                    新增標籤\n                  </button>\n                </div>\n              </div>\n              <label for=\"content\" class=\"form-label\">\n                <small class=\"text-danger\">*</small>\n                文章描述\n              </label>\n              <div class=\"mb-3\">\n                <ckeditor\n                  :editor=\"editor\"\n                  :config=\"editorConfig\"\n                  v-model=\"tempArticle.description\"\n                  required\n                ></ckeditor>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempArticle.isPublic\"\n                    id=\"isPublic\"\n                    required\n                  />\n                  <label class=\"form-check-label\" for=\"isPublic\">\n                    <small class=\"text-danger\">*</small>\n                    是否公開\n                  </label>\n                </div>\n              </div>\n            </div>\n            <div class=\"d-flex justify-content-end\">\n              <button\n                type=\"button\"\n                class=\"btn btn-gray-100 mr-2\"\n                data-bs-dismiss=\"modal\"\n              >\n                取消\n              </button>\n              <button\n                type=\"submit\"\n                class=\"btn btn-secondary text-white\"\n                @click=\"updateArticle()\"\n              >\n                確認\n              </button>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nimport Modal from 'bootstrap/js/dist/modal';\n\nexport default {\n  props: {\n    article: {\n      type: Object,\n      default() {\n        return {\n          articleModal: '',\n        };\n      },\n    },\n  },\n  data() {\n    return {\n      tempArticle: {\n        tag: [''],\n      },\n      create_at: 0,\n      // 參考：https://ckeditor.com/docs/ckeditor5/latest/builds/guides/integration/frameworks/vuejs-v3.html#editor\n      editor: ClassicEditor,\n      editorConfig: {\n        toolbar: ['heading', 'typing', 'bold', 'italic', '|', 'link'],\n      },\n    };\n  },\n  watch: {\n    article() {\n      this.tempArticle = {\n        ...this.article,\n        tag: this.article.tag || [],\n        isPublic: this.article.isPublic || false,\n      };\n      [this.create_at] = new Date(this.tempArticle.create_at * 1000)\n        .toISOString()\n        .split('T');\n    },\n    create_at() {\n      this.tempArticle.create_at = Math.floor(new Date(this.create_at) / 1000);\n    },\n  },\n  mounted() {\n    this.articleModal = new Modal(this.$refs.articleModal, {\n      keyboard: false,\n      backdrop: 'static',\n    });\n    this.$refs.articleModal.addEventListener('hidden.bs.modal', () => {\n      this.init();\n    });\n  },\n  methods: {\n    init() {\n      this.tempArticle = {\n        tag: [''],\n      };\n      this.create_at = 0;\n      const forms = document.querySelector('.needs-validation');\n      forms.classList.remove('was-validated');\n    },\n    modal(state) {\n      switch (state) {\n        case 'show':\n          this.articleModal.show();\n          break;\n        case 'hide':\n          this.articleModal.hide();\n          break;\n        default:\n      }\n    },\n    updateArticle() {\n      let check = false; // 未通過\n      const forms = document.querySelectorAll('.needs-validation');\n      console.log(forms);\n      Array.prototype.slice.call(forms).forEach((form) => {\n        console.log(form);\n        form.addEventListener('submit', (event) => {\n          console.log(event);\n          console.log(form.checkValidity());\n          if (!form.checkValidity()) {\n            event.preventDefault();\n            event.stopPropagation();\n            check = false;\n          } else {\n            check = true;\n          }\n          form.classList.add('was-validated');\n        }, false);\n      });\n      // 非同步\n      setTimeout(() => {\n        if (check) {\n          this.$emit('update-article', this.tempArticle);\n          this.modal('hide');\n          this.init();\n        }\n      });\n    },\n  },\n};\n</script>\n\n<style>\n.ck-editor__editable_inline {\n  min-height: 300px;\n}\n</style>\n","import { render } from \"./ArticleModal.vue?vue&type=template&id=239355ce\"\nimport script from \"./ArticleModal.vue?vue&type=script&lang=js\"\nexport * from \"./ArticleModal.vue?vue&type=script&lang=js\"\n\nimport \"./ArticleModal.vue?vue&type=style&index=0&id=239355ce&lang=css\"\nscript.render = render\n\nexport default script","import { render } from \"./News.vue?vue&type=template&id=310c486b\"\nimport script from \"./News.vue?vue&type=script&lang=js\"\nexport * from \"./News.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ArticleModal.vue?vue&type=style&index=0&id=239355ce&lang=css\""],"sourceRoot":""}