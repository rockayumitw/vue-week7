{"version":3,"sources":["webpack:///./src/views/Login.vue","webpack:///./src/views/Login.vue?e63b"],"names":["class","for","type","active","loading","can-cancel","loader","login","id","placeholder","user","username","required","autofocus","password","components","Loading","computed","methods","this","$store","commit","api","axios","post","then","res","data","success","token","expired","document","cookie","Date","$router","push","alert","message","render"],"mappings":"0JACSA,MAAM,kB,GAGJA,MAAM,Y,EACT,yBAAgD,MAA5CA,MAAM,8BAA6B,QAAI,G,GACtCA,MAAM,Q,EACT,yBAA6D,SAAtDC,IAAI,aAAaD,MAAM,WAAU,iBAAa,G,GAIlDA,MAAM,Q,EACT,yBAA2D,SAApDC,IAAI,gBAAgBD,MAAM,WAAU,YAAQ,G,EAGrD,yBAEM,OAFDA,MAAM,iBAAe,CACxB,yBAA0E,UAAlEA,MAAM,mCAAmCE,KAAK,UAAS,Q,4GAfrE,yBAmBI,MAnBJ,EAmBI,CAlBJ,yBAA6E,GAA5DC,OAAQ,EAAAC,Q,iCAAA,EAAAA,QAAO,GAAGC,cAAY,EAAMC,OAAO,Q,mBAC5D,yBAgBO,QAhBDN,MAAM,6BAA8B,SAAM,+CAAU,EAAAO,OAAA,EAAAA,SAAA,GAAK,e,CAC7D,yBAcM,MAdN,EAcM,CAbJ,EACA,yBAIM,MAJN,EAIM,CAHJ,E,4BACA,yBAC8E,SADvEL,KAAK,QAAQM,GAAG,aAAaR,MAAM,eACnCS,YAAY,gB,qCAAyB,EAAAC,KAAKC,SAAQ,GAAEC,SAAA,GAASC,UAAA,I,4BAAxB,EAAAH,KAAKC,cAEnD,yBAG4F,MAH5F,EAG4F,CAF1F,E,4BACA,yBACoF,SAD7ET,KAAK,WAAWM,GAAG,gBACnBR,MAAM,e,qCAAwB,EAAAU,KAAKI,SAAQ,GAAEL,YAAY,WAAWG,SAAA,I,4BAAtC,EAAAF,KAAKI,cAC5C,K,2CAYO,GACb,OACE,MAAO,CACLJ,KAAM,CACJC,SAAU,GACVG,SAAU,MAIhBC,WAAY,CACVC,QAAA,KAEFC,SAAU,IACL,eAAW,CACZb,QAAS,aAGbc,QAAS,CACP,cACEC,KAAKC,OAAOC,OAAO,gBAAgB,GACnC,MAAMC,EAAO,0DACPH,KAAKI,MAAMC,KAAKF,EAAKH,KAAKT,MAAMe,KAAMC,IAE1C,GADAP,KAAKC,OAAOC,OAAO,gBAAgB,GAC/BK,EAAIC,KAAKC,QAAS,CACpB,MAAM,MAAEC,EAAF,QAASC,GAAYJ,EAAIC,KAC/BI,SAASC,OAAU,SAAQH,aAAiB,IAAII,KAAKH,MACrDX,KAAKe,QAAQC,KAAK,wBAElBC,MAAMV,EAAIC,KAAKU,cCpDzB,EAAOC,OAASA,EAED","file":"js/chunk-2d2086b7.32d2a53c.js","sourcesContent":["<template>\n    <div class=\"container mt-5\">\n    <loading v-model:active=\"loading\" :can-cancel=\"true\" loader=\"dots\"></loading>\n    <form class=\"row justify-content-center\" @submit.prevent=\"login\">\n      <div class=\"col-md-6\">\n        <h1 class=\"h3 mb-3 font-weight-normal\">請先登入</h1>\n        <div class=\"mb-2\">\n          <label for=\"inputEmail\" class=\"sr-only\">Email address</label>\n          <input type=\"email\" id=\"inputEmail\" class=\"form-control\"\n                 placeholder=\"Email address\" v-model=\"user.username\" required autofocus>\n        </div>\n        <div class=\"mb-2\">\n          <label for=\"inputPassword\" class=\"sr-only\">Password</label>\n          <input type=\"password\" id=\"inputPassword\"\n                 class=\"form-control\" v-model=\"user.password\" placeholder=\"Password\" required></div>\n        <div class=\"text-end mt-4\">\n          <button class=\"btn btn-lg btn-primary btn-block\" type=\"submit\">登入</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex';\nimport Loading from 'vue-loading-overlay';\n\nexport default {\n  data() {\n    return {\n      user: {\n        username: '',\n        password: '',\n      },\n    };\n  },\n  components: {\n    Loading,\n  },\n  computed: {\n    ...mapGetters({\n      loading: 'loading',\n    }),\n  },\n  methods: {\n    async login() {\n      this.$store.commit('SAVE_LOADING', true);\n      const api = `${process.env.VUE_APP_API}/admin/signin`;\n      await this.axios.post(api, this.user).then((res) => {\n        this.$store.commit('SAVE_LOADING', false);\n        if (res.data.success) {\n          const { token, expired } = res.data;\n          document.cookie = `token=${token};expires=${new Date(expired)};`;\n          this.$router.push('/admin/products');\n        } else {\n          alert(res.data.message);\n        }\n      });\n    },\n  },\n};\n</script>\n","import { render } from \"./Login.vue?vue&type=template&id=6807e629\"\nimport script from \"./Login.vue?vue&type=script&lang=js\"\nexport * from \"./Login.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script"],"sourceRoot":""}